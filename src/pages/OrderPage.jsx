import React, { useState, useEffect, useCallback } from 'react'
import { useParams, useNavigate } from 'react-router-dom'
import { ShoppingBag, ChevronDown, Star } from 'lucide-react'
import { getPlatformInfo, calculatePrice } from '../utils/platformUtils'
import { smmpanelApi, handleApiError, transformOrderData } from '../services/snspopApi'
import { useAuth } from '../contexts/AuthContext'
import './OrderPage.css'

// Force redeploy - Prevent rollback and fix deployment issues
// ê°•ì œ ì¬ë°°í¬ - ë¡¤ë°± ë°©ì§€ ë° ë°°í¬ ë¬¸ì œ í•´ê²°
const OrderPage = () => {
  const { platform, serviceId } = useParams()
  const navigate = useNavigate()
  const { currentUser } = useAuth()
  
  // ğŸš€ ì™„ë²½í•œ ì„œë¹„ìŠ¤ ìƒíƒœ ê´€ë¦¬ ì‹œìŠ¤í…œ
  const [selectedService, setSelectedService] = useState(() => {
    // 1ë‹¨ê³„: URL íŒŒë¼ë¯¸í„°ì—ì„œ serviceId ì¶”ì¶œ
    const urlServiceId = serviceId && serviceId !== 'undefined' && serviceId !== undefined ? serviceId : null
    
    // 2ë‹¨ê³„: ê¸°ë³¸ ì„œë¹„ìŠ¤ ê²°ì •
    const defaultService = 'followers_korean'
    
    // 3ë‹¨ê³„: ìµœì¢… ì„œë¹„ìŠ¤ ê²°ì •
    const finalService = urlServiceId || defaultService
    
    console.log('=== ğŸš€ OrderPage ì™„ë²½ ì´ˆê¸°í™” ===')
    console.log('URL serviceId:', serviceId)
    console.log('URL platform:', platform)
    console.log('URLì—ì„œ ì¶”ì¶œëœ ì„œë¹„ìŠ¤:', urlServiceId)
    console.log('ê¸°ë³¸ ì„œë¹„ìŠ¤:', defaultService)
    console.log('ìµœì¢… ì„ íƒëœ ì„œë¹„ìŠ¤:', finalService)
    
    return finalService
  })
  
  // ğŸ” ì„œë¹„ìŠ¤ ìƒíƒœ ê²€ì¦ ë° ë³µêµ¬ ì‹œìŠ¤í…œ
  const validateAndRecoverService = useCallback(() => {
    const services = getServicesForPlatform(platform)
    const validServiceIds = services.map(s => s.id)
    
    console.log('=== ğŸ” ì„œë¹„ìŠ¤ ìƒíƒœ ê²€ì¦ ===')
    console.log('í˜„ì¬ selectedService:', selectedService)
    console.log('ìœ íš¨í•œ ì„œë¹„ìŠ¤ IDë“¤:', validServiceIds)
    console.log('ê²€ì¦ ê²°ê³¼:', validServiceIds.includes(selectedService))
    
    // ë¬¸ì œê°€ ìˆëŠ” ê²½ìš° ì¦‰ì‹œ ë³µêµ¬
    if (!selectedService || !validServiceIds.includes(selectedService)) {
      const recoveryService = validServiceIds[0]
      console.log('âš ï¸ ì„œë¹„ìŠ¤ ìƒíƒœ ë¬¸ì œ ê°ì§€, ë³µêµ¬ ì¤‘...')
      console.log('ë³µêµ¬ ëŒ€ìƒ ì„œë¹„ìŠ¤:', recoveryService)
      
      setSelectedService(recoveryService)
      return recoveryService
    }
    
    console.log('âœ… ì„œë¹„ìŠ¤ ìƒíƒœ ì •ìƒ')
    return selectedService
  }, [platform, selectedService])
  
  // ğŸ”§ ê°•ì œ ì„œë¹„ìŠ¤ ì„¤ì • ì‹œìŠ¤í…œ
  const forceSetValidService = useCallback((serviceId) => {
    if (!serviceId) return false
    
    const services = getServicesForPlatform(platform)
    const validServiceIds = services.map(s => s.id)
    
    if (validServiceIds.includes(serviceId)) {
      console.log('ğŸ”§ ê°•ì œ ì„œë¹„ìŠ¤ ì„¤ì •:', serviceId)
      setSelectedService(serviceId)
      return true
    } else {
      console.error('âŒ ìœ íš¨í•˜ì§€ ì•Šì€ ì„œë¹„ìŠ¤ ID:', serviceId)
      return false
    }
  }, [platform])
  
  // selectedServiceê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ ë¡œê¹…
  useEffect(() => {
    console.log('=== selectedService ìƒíƒœ ë³€í™” ===')
    console.log('ìƒˆë¡œìš´ selectedService:', selectedService)
    console.log('íƒ€ì…:', typeof selectedService)
    console.log('ê°’:', selectedService)
  }, [selectedService])
  
  // URL íŒŒë¼ë¯¸í„°ê°€ ë³€ê²½ë  ë•Œ selectedService ì—…ë°ì´íŠ¸
  useEffect(() => {
    if (serviceId && serviceId !== 'undefined' && serviceId !== undefined) {
      console.log('URL íŒŒë¼ë¯¸í„° ë³€ê²½ìœ¼ë¡œ selectedService ì—…ë°ì´íŠ¸:', serviceId)
      setSelectedService(serviceId)
    }
  }, [serviceId])
  
  // ì»´í¬ë„ŒíŠ¸ ë§ˆìš´íŠ¸ ì‹œ selectedServiceê°€ ìœ íš¨í•œì§€ í™•ì¸í•˜ê³  ìˆ˜ì •
  useEffect(() => {
    const services = getServicesForPlatform(platform)
    const validServiceIds = services.map(s => s.id)
    
    console.log('=== ğŸ” ì„œë¹„ìŠ¤ ìœ íš¨ì„± ê²€ì¦ ===')
    console.log('í˜„ì¬ selectedService:', selectedService)
    console.log('ìœ íš¨í•œ ì„œë¹„ìŠ¤ IDë“¤:', validServiceIds)
    console.log('selectedServiceê°€ ìœ íš¨í•œê°€?', validServiceIds.includes(selectedService))
    
    // selectedServiceê°€ ìœ íš¨í•˜ì§€ ì•Šìœ¼ë©´ ì²« ë²ˆì§¸ ìœ íš¨í•œ ì„œë¹„ìŠ¤ë¡œ ì„¤ì •
    if (!selectedService || !validServiceIds.includes(selectedService)) {
      const firstValidService = validServiceIds[0]
      console.log('âš ï¸ selectedServiceê°€ ìœ íš¨í•˜ì§€ ì•ŠìŒ, ì²« ë²ˆì§¸ ì„œë¹„ìŠ¤ë¡œ ì„¤ì •:', firstValidService)
      setSelectedService(firstValidService)
    }
  }, [platform]) // selectedService ì˜ì¡´ì„± ì œê±°í•˜ì—¬ ë¬´í•œ ë£¨í”„ ë°©ì§€
  
  const [quantity, setQuantity] = useState(200)
  const [totalPrice, setTotalPrice] = useState(0)
  const [showChecklist, setShowChecklist] = useState(false)
  const [link, setLink] = useState('')
  const [comments, setComments] = useState('')
  const [explanation, setExplanation] = useState('')
  const [isLoading, setIsLoading] = useState(false)
  const [userPoints, setUserPoints] = useState(0)
  const [usePoints, setUsePoints] = useState(true)
  const [pointsToUse, setPointsToUse] = useState(0)
  const [finalPrice, setFinalPrice] = useState(0)
  
  const platformInfo = getPlatformInfo(platform)
  
  // í”Œë«í¼ë³„ ì„œë¹„ìŠ¤ ëª©ë¡
  const getServicesForPlatform = (platform) => {
    switch (platform) {
      case 'instagram':
        return [
          { id: 'followers_korean', name: 'íŒ”ë¡œì›Œ (í•œêµ­ì¸)', description: 'í’ˆì§ˆ: ê³ í’ˆì§ˆ | ì‹œì‘ì‹œê°„: 5ë¶„ | í•˜ë£¨ìœ ì…ëŸ‰: 100~200ëª… | ìµœì†Œ/ìµœëŒ€: 100/20,000ê°œ | 1ê°œë‹¹ 120ì› | ë¦¬í•„ë¶ˆê°€ | âœ´ï¸ ì¸ìŠ¤íƒ€ê·¸ë¨ ì—…ë°ì´íŠ¸ë¡œ ì¸í•´ ê²€í† ë¥¼ ìœ„í•œ í”Œë˜ê·¸ ì§€ì •ì„ êº¼ì£¼ì„¸ìš” (ì„¤ì • > ì¹œêµ¬ íŒ”ë¡œìš° ë° ì´ˆëŒ€ > ê²€í† ë¥¼ ìœ„í•´ í”Œë˜ê·¸ ì§€ì • ë„ê¸°) | âœ´ï¸ í•˜ë£¨ ì•½ 500~1000ëª… íŒ”ë¡œì›Œ ì¦ê°€ | âœ´ï¸ í•œêµ­ì¸ í”„ë¡œí•„ ìœ ì €ë“¤ë¡œ ìœ ì…ë˜ì–´ ì–¸íŒ”ì— ì˜í•œ ì´íƒˆ ì—†ìŒ | âœ´ï¸ í•œêµ­ ì‹œì¥ì—ì„œì˜ ì‹ ë¢°ë„ ë° ì¸ì§€ë„ í–¥ìƒ | âœ´ï¸ ì¸ìŠ¤íƒ€ê·¸ë¨ ì¸í”Œë£¨ì–¸ì„œ í”„ë¡œê·¸ë¨ ì°¸ì—¬ ìê²© íšë“ ê°€ëŠ¥ | âœ´ï¸ ë¸Œëœë“œ í˜‘ì—… ë° ìˆ˜ìµí™” ê¸°íšŒ í™•ëŒ€ | âœ´ï¸ ì§€ì—­ë³„ íƒ€ê²ŸíŒ…ìœ¼ë¡œ í•œêµ­ ì‹œì¥ ê³µëµ ê°€ëŠ¥ | âœ´ï¸ ê³„ì • ê¶Œìœ„ì„± ë° ì‹ ë¢°ë„ í–¥ìƒ | ê³„ì •ê³µê°œ í•„ìˆ˜, ë¹„ê³µê°œ ê³„ì • ì‘ì—… ë¶ˆê°€ | ì£¼ë¬¸ì ‘ìˆ˜ í›„ ì·¨ì†Œ/ë³€ê²½/í™˜ë¶ˆ ë¶ˆê°€ | 100ëª… ë‹¨ìœ„ ì£¼ë¬¸ ê°€ëŠ¥' },
          { id: 'followers_foreign', name: 'íŒ”ë¡œì›Œ (ì™¸êµ­ì¸)', description: 'í’ˆì§ˆ: ê³ í’ˆì§ˆ | ì‹œì‘ì‹œê°„: 5ë¶„ | í•˜ë£¨ìœ ì…ëŸ‰: 100~200ëª… | ìµœì†Œ/ìµœëŒ€: 100/2,000ê°œ | 1ê°œë‹¹ 1ì› | ë¦¬í•„ë¶ˆê°€ | âœ´ï¸ ì¸ìŠ¤íƒ€ê·¸ë¨ ì—…ë°ì´íŠ¸ë¡œ ì¸í•´ ê²€í† ë¥¼ ìœ„í•œ í”Œë˜ê·¸ ì§€ì •ì„ êº¼ì£¼ì„¸ìš” (ì„¤ì • > ì¹œêµ¬ íŒ”ë¡œìš° ë° ì´ˆëŒ€ > ê²€í† ë¥¼ ìœ„í•´ í”Œë˜ê·¸ ì§€ì • ë„ê¸°) | âœ´ï¸ í•˜ë£¨ ì•½ 500~1000ëª… íŒ”ë¡œì›Œ ì¦ê°€ | âœ´ï¸ ê¸€ë¡œë²Œ íŒ”ë¡œì›Œë¡œ êµ¬ì„±ë˜ì–´ êµ­ì œì ì¸ ì˜í–¥ë ¥ í–¥ìƒ | âœ´ï¸ êµ­ì œ ì‹œì¥ì—ì„œì˜ ë¸Œëœë“œ ì¸ì§€ë„ í–¥ìƒ | âœ´ï¸ ë‹¤êµ­ì–´ ì½˜í…ì¸ ë¡œ ê¸€ë¡œë²Œ ì‹œì¥ ê³µëµ ê°€ëŠ¥ | âœ´ï¸ ì¸ìŠ¤íƒ€ê·¸ë¨ ì¸í”Œë£¨ì–¸ì„œ í”„ë¡œê·¸ë¨ ì°¸ì—¬ ìê²© íšë“ ê°€ëŠ¥ | âœ´ï¸ ë¸Œëœë“œ í˜‘ì—… ë° ìˆ˜ìµí™” ê¸°íšŒ í™•ëŒ€ | âœ´ï¸ ê³„ì • ê¶Œìœ„ì„± ë° ì‹ ë¢°ë„ í–¥ìƒ | ê³„ì •ê³µê°œ í•„ìˆ˜, ë¹„ê³µê°œ ê³„ì • ì‘ì—… ë¶ˆê°€ | ì£¼ë¬¸ì ‘ìˆ˜ í›„ ì·¨ì†Œ/ë³€ê²½/í™˜ë¶ˆ ë¶ˆê°€ | 100ëª… ë‹¨ìœ„ ì£¼ë¬¸ ê°€ëŠ¥' },
          { id: 'likes_korean', name: 'ì¢‹ì•„ìš” (í•œêµ­ì¸)', description: 'í’ˆì§ˆ: ê³ í’ˆì§ˆ | ì‹œì‘ì‹œê°„: 5ë¶„ | í•˜ë£¨ìœ ì…ëŸ‰: 100~200ê°œ | ìµœì†Œ/ìµœëŒ€: 50/10,000ê°œ | 1ê°œë‹¹ 7ì› | ë¦¬í•„ë¶ˆê°€ | âœ´ï¸ í•œêµ­ì¸ ì‚¬ìš©ìë¡œë¶€í„° ì¢‹ì•„ìš”ë¥¼ ë°›ì•„ ê²Œì‹œë¬¼ì˜ ì¸ê¸°ë„ í–¥ìƒ | âœ´ï¸ ìì—°ìŠ¤ëŸ¬ìš´ í•œêµ­ì–´ ì‚¬ìš©ìë¡œ êµ¬ì„± | âœ´ï¸ í•œêµ­ ì‹œì¥ì—ì„œì˜ ì½˜í…ì¸  ì¸ê¸°ë„ í–¥ìƒ | âœ´ï¸ ê²Œì‹œë¬¼ ë…¸ì¶œë„ ë° ìƒí˜¸ì‘ìš© ì¦ê°€ | âœ´ï¸ ëŒ“ê¸€ ë° ê³µìœ  ê°€ëŠ¥ì„± ì¦ê°€ | âœ´ï¸ ì¸ìŠ¤íƒ€ê·¸ë¨ ì•Œê³ ë¦¬ì¦˜ì—ì„œ ìš°ì„ ìˆœìœ„ ìƒìŠ¹ | âœ´ï¸ ë¸Œëœë“œ ì¸ì§€ë„ ë° ì‹ ë¢°ë„ í–¥ìƒ | âœ´ï¸ ì§€ì—­ë³„ íƒ€ê²ŸíŒ…ìœ¼ë¡œ í•œêµ­ ì‹œì¥ ê³µëµ ê°€ëŠ¥ | ê³„ì •ê³µê°œ í•„ìˆ˜, ë¹„ê³µê°œ ê³„ì • ì‘ì—… ë¶ˆê°€ | ì£¼ë¬¸ì ‘ìˆ˜ í›„ ì·¨ì†Œ/ë³€ê²½/í™˜ë¶ˆ ë¶ˆê°€ | 50ëª… ë‹¨ìœ„ ì£¼ë¬¸ ê°€ëŠ¥' },
          { id: 'likes_foreign', name: 'ì¢‹ì•„ìš” (ì™¸êµ­ì¸)', description: 'í’ˆì§ˆ: ê³ í’ˆì§ˆ | ì‹œì‘ì‹œê°„: 5ë¶„ | í•˜ë£¨ìœ ì…ëŸ‰: 100~200ê°œ | ìµœì†Œ/ìµœëŒ€: 100/50,000ê°œ | 1ê°œë‹¹ 1ì› | ë¦¬í•„ë¶ˆê°€ | âœ´ï¸ ì™¸êµ­ì¸ ì‚¬ìš©ìë¡œë¶€í„° ì¢‹ì•„ìš”ë¥¼ ë°›ì•„ ê²Œì‹œë¬¼ì˜ ì¸ê¸°ë„ í–¥ìƒ | âœ´ï¸ ê¸€ë¡œë²Œ ì‚¬ìš©ìë¡œ êµ¬ì„±ë˜ì–´ êµ­ì œì ì¸ ì˜í–¥ë ¥ í–¥ìƒ | âœ´ï¸ êµ­ì œ ì‹œì¥ì—ì„œì˜ ì½˜í…ì¸  ì¸ê¸°ë„ í–¥ìƒ | âœ´ï¸ ê²Œì‹œë¬¼ ë…¸ì¶œë„ ë° ìƒí˜¸ì‘ìš© ì¦ê°€ | âœ´ï¸ ë‹¤êµ­ì–´ ëŒ“ê¸€ ë° ê³µìœ  ê°€ëŠ¥ì„± ì¦ê°€ | âœ´ï¸ ì¸ìŠ¤íƒ€ê·¸ë¨ ì•Œê³ ë¦¬ì¦˜ì—ì„œ ìš°ì„ ìˆœìœ„ ìƒìŠ¹ | âœ´ï¸ ê¸€ë¡œë²Œ ë¸Œëœë“œ ì¸ì§€ë„ ë° ì‹ ë¢°ë„ í–¥ìƒ | âœ´ï¸ í•´ì‹œíƒœê·¸ íŠ¸ë Œë”© íš¨ê³¼ë¡œ ë°”ì´ëŸ´ í™•ì‚° ê°€ëŠ¥ì„± ì¦ëŒ€ | ê³„ì •ê³µê°œ í•„ìˆ˜, ë¹„ê³µê°œ ê³„ì • ì‘ì—… ë¶ˆê°€ | ì£¼ë¬¸ì ‘ìˆ˜ í›„ ì·¨ì†Œ/ë³€ê²½/í™˜ë¶ˆ ë¶ˆê°€ | 100ëª… ë‹¨ìœ„ ì£¼ë¬¸ ê°€ëŠ¥' },
          { id: 'comments_korean', name: 'ëŒ“ê¸€ (í•œêµ­ì¸)', description: 'í’ˆì§ˆ: ê³ í’ˆì§ˆ | ì‹œì‘ì‹œê°„: 5ë¶„ | í•˜ë£¨ìœ ì…ëŸ‰: 100~200ê°œ | ìµœì†Œ/ìµœëŒ€: 5/100ê°œ | 1ê°œë‹¹ 200ì› | ë¦¬í•„ë¶ˆê°€ | âœ´ï¸ í•œêµ­ì–´ ëŒ“ê¸€ì„ ë‹¬ì•„ ê²Œì‹œë¬¼ì˜ ìƒí˜¸ì‘ìš© ì¦ê°€ | âœ´ï¸ ì»¤ìŠ¤í…€ ëŒ“ê¸€ ì…ë ¥ ê°€ëŠ¥ | âœ´ï¸ ìì—°ìŠ¤ëŸ¬ìš´ í•œêµ­ì–´ ì‚¬ìš©ìë¡œ êµ¬ì„± | âœ´ï¸ í•œêµ­ ì‹œì¥ì—ì„œì˜ ì½˜í…ì¸  ì¸ê¸°ë„ í–¥ìƒ | âœ´ï¸ ëŒ“ê¸€ì„ í†µí•œ ì¶”ê°€ ìƒí˜¸ì‘ìš© ìœ ë„ | âœ´ï¸ ì¸ìŠ¤íƒ€ê·¸ë¨ ì•Œê³ ë¦¬ì¦˜ì—ì„œ ìš°ì„ ìˆœìœ„ ìƒìŠ¹ | âœ´ï¸ ë¸Œëœë“œ ì¸ì§€ë„ ë° ì‹ ë¢°ë„ í–¥ìƒ | âœ´ï¸ ì§€ì—­ë³„ íƒ€ê²ŸíŒ…ìœ¼ë¡œ í•œêµ­ ì‹œì¥ ê³µëµ ê°€ëŠ¥ | âœ´ï¸ ê²Œì‹œë¬¼ ë…¸ì¶œë„ ë° ìƒí˜¸ì‘ìš© ì¦ê°€ | ê³„ì •ê³µê°œ í•„ìˆ˜, ë¹„ê³µê°œ ê³„ì • ì‘ì—… ë¶ˆê°€ | ì£¼ë¬¸ì ‘ìˆ˜ í›„ ì·¨ì†Œ/ë³€ê²½/í™˜ë¶ˆ ë¶ˆê°€ | 5ëª… ë‹¨ìœ„ ì£¼ë¬¸ ê°€ëŠ¥' },
          { id: 'comments_foreign', name: 'ëŒ“ê¸€ (ì™¸êµ­ì¸)', description: 'í’ˆì§ˆ: ê³ í’ˆì§ˆ | ì‹œì‘ì‹œê°„: 5ë¶„ | í•˜ë£¨ìœ ì…ëŸ‰: 100~200ê°œ | ìµœì†Œ/ìµœëŒ€: 10/1,000ê°œ | 1ê°œë‹¹ 50ì› | ë¦¬í•„ë¶ˆê°€ | âœ´ï¸ ì™¸êµ­ì–´ ëŒ“ê¸€ì„ ë‹¬ì•„ ê²Œì‹œë¬¼ì˜ ìƒí˜¸ì‘ìš© ì¦ê°€ | âœ´ï¸ ê¸€ë¡œë²Œ ì‚¬ìš©ìë¡œ êµ¬ì„±ë˜ì–´ êµ­ì œì ì¸ ì˜í–¥ë ¥ í–¥ìƒ | âœ´ï¸ êµ­ì œ ì‹œì¥ì—ì„œì˜ ì½˜í…ì¸  ì¸ê¸°ë„ í–¥ìƒ | âœ´ï¸ ë‹¤êµ­ì–´ ëŒ“ê¸€ë¡œ êµ­ì œì  ì†Œí†µ ì¦ëŒ€ | âœ´ï¸ ê²Œì‹œë¬¼ ë…¸ì¶œë„ ë° ìƒí˜¸ì‘ìš© ì¦ê°€ | âœ´ï¸ ì¸ìŠ¤íƒ€ê·¸ë¨ ì•Œê³ ë¦¬ì¦˜ì—ì„œ ìš°ì„ ìˆœìœ„ ìƒìŠ¹ | âœ´ï¸ ê¸€ë¡œë²Œ ë¸Œëœë“œ ì¸ì§€ë„ ë° ì‹ ë¢°ë„ í–¥ìƒ | âœ´ï¸ í•´ì‹œíƒœê·¸ íŠ¸ë Œë”© íš¨ê³¼ë¡œ ë°”ì´ëŸ´ í™•ì‚° ê°€ëŠ¥ì„± ì¦ëŒ€ | âœ´ï¸ ì§€ì—­ë³„ íƒ€ê²ŸíŒ…ìœ¼ë¡œ íŠ¹ì • êµ­ê°€ ì‹œì¥ ê³µëµ ê°€ëŠ¥ | ê³„ì •ê³µê°œ í•„ìˆ˜, ë¹„ê³µê°œ ê³„ì • ì‘ì—… ë¶ˆê°€ | ì£¼ë¬¸ì ‘ìˆ˜ í›„ ì·¨ì†Œ/ë³€ê²½/í™˜ë¶ˆ ë¶ˆê°€ | 10ëª… ë‹¨ìœ„ ì£¼ë¬¸ ê°€ëŠ¥' },
          { id: 'views_korean', name: 'ì¡°íšŒìˆ˜ (í•œêµ­ì¸)', description: 'í’ˆì§ˆ: ê³ í’ˆì§ˆ | ì‹œì‘ì‹œê°„: 5ë¶„ | í•˜ë£¨ìœ ì…ëŸ‰: 100~200ê°œ | ìµœì†Œ/ìµœëŒ€: 100/100,000,000ê°œ | 1ê°œë‹¹ 1ì› | ë¦¬í•„ë¶ˆê°€ | âœ´ï¸ í•œêµ­ì¸ ì‚¬ìš©ìë¡œë¶€í„° ì¡°íšŒìˆ˜ë¥¼ ì¦ê°€ì‹œì¼œ ì½˜í…ì¸ ì˜ ë…¸ì¶œë„ í–¥ìƒ | âœ´ï¸ ìì—°ìŠ¤ëŸ¬ìš´ í•œêµ­ì–´ ì‚¬ìš©ìë¡œ êµ¬ì„± | âœ´ï¸ í•œêµ­ ì‹œì¥ì—ì„œì˜ ì½˜í…ì¸  ì¸ê¸°ë„ í–¥ìƒ | âœ´ï¸ ìŠ¤í† ë¦¬ ë° ë¦´ìŠ¤ ë…¸ì¶œë„ ì¦ê°€ | âœ´ï¸ ì¸ìŠ¤íƒ€ê·¸ë¨ ì•Œê³ ë¦¬ì¦˜ì—ì„œ ìš°ì„ ìˆœìœ„ ìƒìŠ¹ | âœ´ï¸ ë¸Œëœë“œ ì¸ì§€ë„ ë° ì‹ ë¢°ë„ í–¥ìƒ | âœ´ï¸ ì§€ì—­ë³„ íƒ€ê²ŸíŒ…ìœ¼ë¡œ í•œêµ­ ì‹œì¥ ê³µëµ ê°€ëŠ¥ | âœ´ï¸ ìŠ¤í† ë¦¬ ê´‘ê³  ë° ë¸Œëœë“œ í˜‘ì—… ê¸°íšŒ í™•ëŒ€ | ê³„ì •ê³µê°œ í•„ìˆ˜, ë¹„ê³µê°œ ê³„ì • ì‘ì—… ë¶ˆê°€ | ì£¼ë¬¸ì ‘ìˆ˜ í›„ ì·¨ì†Œ/ë³€ê²½/í™˜ë¶ˆ ë¶ˆê°€ | 100ëª… ë‹¨ìœ„ ì£¼ë¬¸ ê°€ëŠ¥' },
          { id: 'views_foreign', name: 'ì¡°íšŒìˆ˜ (ì™¸êµ­ì¸)', description: 'í’ˆì§ˆ: ê³ í’ˆì§ˆ | ì‹œì‘ì‹œê°„: 5ë¶„ | í•˜ë£¨ìœ ì…ëŸ‰: 100~200ê°œ | ìµœì†Œ/ìµœëŒ€: 100/100,000,000ê°œ | 1ê°œë‹¹ 0.5ì› | ë¦¬í•„ë¶ˆê°€ | âœ´ï¸ ì™¸êµ­ì¸ ì‚¬ìš©ìë¡œë¶€í„° ì¡°íšŒìˆ˜ë¥¼ ì¦ê°€ì‹œì¼œ ì½˜í…ì¸ ì˜ ë…¸ì¶œë„ í–¥ìƒ | âœ´ï¸ ê¸€ë¡œë²Œ ì‚¬ìš©ìë¡œ êµ¬ì„±ë˜ì–´ êµ­ì œì ì¸ ì˜í–¥ë ¥ í–¥ìƒ | âœ´ï¸ êµ­ì œ ì‹œì¥ì—ì„œì˜ ì½˜í…ì¸  ì¸ê¸°ë„ í–¥ìƒ | âœ´ï¸ ìŠ¤í† ë¦¬ ë° ë¦´ìŠ¤ ë…¸ì¶œë„ ì¦ê°€ | âœ´ï¸ ì¸ìŠ¤íƒ€ê·¸ë¨ ì•Œê³ ë¦¬ì¦˜ì—ì„œ ìš°ì„ ìˆœìœ„ ìƒìŠ¹ | âœ´ï¸ ê¸€ë¡œë²Œ ë¸Œëœë“œ ì¸ì§€ë„ ë° ì‹ ë¢°ë„ í–¥ìƒ | âœ´ï¸ ì§€ì—­ë³„ íƒ€ê²ŸíŒ…ìœ¼ë¡œ íŠ¹ì • êµ­ê°€ ì‹œì¥ ê³µëµ ê°€ëŠ¥ | âœ´ï¸ í•´ì‹œíƒœê·¸ íŠ¸ë Œë”© íš¨ê³¼ë¡œ ë°”ì´ëŸ´ í™•ì‚° ê°€ëŠ¥ì„± ì¦ëŒ€ | âœ´ï¸ ìŠ¤í† ë¦¬ ê´‘ê³  ë° ë¸Œëœë“œ í˜‘ì—… ê¸°íšŒ í™•ëŒ€ | ê³„ì •ê³µê°œ í•„ìˆ˜, ë¹„ê³µê°œ ê³„ì • ì‘ì—… ë¶ˆê°€ | ì£¼ë¬¸ì ‘ìˆ˜ í›„ ì·¨ì†Œ/ë³€ê²½/í™˜ë¶ˆ ë¶ˆê°€ | 100ëª… ë‹¨ìœ„ ì£¼ë¬¸ ê°€ëŠ¥' }
        ]
      case 'tiktok':
        return [
          { id: 'likes_foreign', name: 'ì¢‹ì•„ìš” (ì™¸êµ­ì¸)', description: 'í’ˆì§ˆ: ê³ í’ˆì§ˆ | ì‹œì‘ì‹œê°„: 5ë¶„ | í•˜ë£¨ìœ ì…ëŸ‰: 100~200ê°œ | ìµœì†Œ/ìµœëŒ€: 100/100,000ê°œ | 1ê°œë‹¹ 6ì› | ë¦¬í•„ë¶ˆê°€ | âœ´ï¸ ì™¸êµ­ì¸ ì‚¬ìš©ìë¡œë¶€í„° í‹±í†¡ ë™ì˜ìƒì˜ ì¢‹ì•„ìš”ë¥¼ ë°›ì•„ ì¸ê¸°ë„ í–¥ìƒ | âœ´ï¸ ê¸€ë¡œë²Œ ì‚¬ìš©ìë¡œ êµ¬ì„±ë˜ì–´ êµ­ì œì ì¸ ì˜í–¥ë ¥ í–¥ìƒ | âœ´ï¸ ë™ì˜ìƒ ì¸ê¸°ë„ ë° ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ í–¥ìƒ | âœ´ï¸ For You í˜ì´ì§€ ë…¸ì¶œë„ ì¦ê°€ | âœ´ï¸ í•´ì‹œíƒœê·¸ íŠ¸ë Œë”© íš¨ê³¼ë¡œ ë°”ì´ëŸ´ í™•ì‚° ê°€ëŠ¥ì„± ì¦ëŒ€ | âœ´ï¸ í‹±í†¡ í¬ë¦¬ì—ì´í„° í”„ë¡œê·¸ë¨ ì°¸ì—¬ ìê²© íšë“ ê°€ëŠ¥ | ê³„ì •ê³µê°œ í•„ìˆ˜, ë¹„ê³µê°œ ê³„ì • ì‘ì—… ë¶ˆê°€ | ì£¼ë¬¸ì ‘ìˆ˜ í›„ ì·¨ì†Œ/ë³€ê²½/í™˜ë¶ˆ ë¶ˆê°€ | 100ëª… ë‹¨ìœ„ ì£¼ë¬¸ ê°€ëŠ¥' },
          { id: 'followers_foreign', name: 'íŒ”ë¡œì›Œ (ì™¸êµ­ì¸)', description: 'í’ˆì§ˆ: ê³ í’ˆì§ˆ | ì‹œì‘ì‹œê°„: 5ë¶„ | í•˜ë£¨ìœ ì…ëŸ‰: 100~200ëª… | ìµœì†Œ/ìµœëŒ€: 100/1,000,000ê°œ | 1ê°œë‹¹ 20ì› | ë¦¬í•„ë¶ˆê°€ | âœ´ï¸ ì™¸êµ­ì¸ ì‚¬ìš©ìë¡œë¶€í„° í‹±í†¡ ê³„ì •ì˜ íŒ”ë¡œì›Œë¥¼ ì¦ê°€ì‹œì¼œ ê³„ì •ì˜ ì¸ê¸°ë„ í–¥ìƒ | âœ´ï¸ ê¸€ë¡œë²Œ ì‚¬ìš©ìë¡œ êµ¬ì„±ë˜ì–´ êµ­ì œì ì¸ ì˜í–¥ë ¥ í–¥ìƒ | âœ´ï¸ ê³„ì • ê¶Œìœ„ì„± ë° ì‹ ë¢°ë„ í–¥ìƒ | âœ´ï¸ ì½˜í…ì¸  ë…¸ì¶œë„ ì¦ê°€ | âœ´ï¸ í‹±í†¡ ë¼ì´ë¸Œ ë°©ì†¡ ì‹œ ì‹œì²­ì ìˆ˜ ì¦ê°€ | âœ´ï¸ ë¸Œëœë“œ í˜‘ì—… ë° ìˆ˜ìµí™” ê¸°íšŒ í™•ëŒ€ | âœ´ï¸ ì§€ì—­ë³„ íƒ€ê²ŸíŒ…ìœ¼ë¡œ íŠ¹ì • êµ­ê°€ ì‹œì¥ ê³µëµ ê°€ëŠ¥ | ê³„ì •ê³µê°œ í•„ìˆ˜, ë¹„ê³µê°œ ê³„ì • ì‘ì—… ë¶ˆê°€ | ì£¼ë¬¸ì ‘ìˆ˜ í›„ ì·¨ì†Œ/ë³€ê²½/í™˜ë¶ˆ ë¶ˆê°€ | 100ëª… ë‹¨ìœ„ ì£¼ë¬¸ ê°€ëŠ¥' },
          { id: 'views_foreign', name: 'ì¡°íšŒìˆ˜ (ì™¸êµ­ì¸)', description: 'í’ˆì§ˆ: ê³ í’ˆì§ˆ | ì‹œì‘ì‹œê°„: 5ë¶„ | í•˜ë£¨ìœ ì…ëŸ‰: 100~200ê°œ | ìµœì†Œ/ìµœëŒ€: 100/2,000,000,000ê°œ | 1ê°œë‹¹ 2ì› | ë¦¬í•„ë¶ˆê°€ | âœ´ï¸ ì™¸êµ­ì¸ ì‚¬ìš©ìë¡œë¶€í„° í‹±í†¡ ë™ì˜ìƒì˜ ì¡°íšŒìˆ˜ë¥¼ ì¦ê°€ì‹œì¼œ ì½˜í…ì¸ ì˜ ë…¸ì¶œë„ í–¥ìƒ | âœ´ï¸ ê¸€ë¡œë²Œ ì‚¬ìš©ìë¡œ êµ¬ì„±ë˜ì–´ êµ­ì œì ì¸ ì˜í–¥ë ¥ í–¥ìƒ | âœ´ï¸ ë™ì˜ìƒ ì¸ê¸°ë„ ë° ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ í–¥ìƒ | âœ´ï¸ For You í˜ì´ì§€ ë…¸ì¶œë„ ì¦ê°€ | âœ´ï¸ í•´ì‹œíƒœê·¸ íŠ¸ë Œë”© íš¨ê³¼ë¡œ ë°”ì´ëŸ´ í™•ì‚° ê°€ëŠ¥ì„± ì¦ëŒ€ | âœ´ï¸ ê´‘ê³  ìˆ˜ìµ ë° ë¸Œëœë“œ í˜‘ì—… ê¸°íšŒ í™•ëŒ€ | âœ´ï¸ ì§€ì—­ë³„ ì¸ê¸° ì½˜í…ì¸ ë¡œ ë“±ê·¹ ê°€ëŠ¥ | âœ´ï¸ í‹±í†¡ í¬ë¦¬ì—ì´í„° í”„ë¡œê·¸ë¨ ì°¸ì—¬ ìê²© íšë“ ê°€ëŠ¥ | ê³„ì •ê³µê°œ í•„ìˆ˜, ë¹„ê³µê°œ ê³„ì • ì‘ì—… ë¶ˆê°€ | ì£¼ë¬¸ì ‘ìˆ˜ í›„ ì·¨ì†Œ/ë³€ê²½/í™˜ë¶ˆ ë¶ˆê°€ | 100ëª… ë‹¨ìœ„ ì£¼ë¬¸ ê°€ëŠ¥' },
          { id: 'comments_foreign', name: 'ëŒ“ê¸€ (ì™¸êµ­ì¸)', description: 'í’ˆì§ˆ: ê³ í’ˆì§ˆ | ì‹œì‘ì‹œê°„: 5ë¶„ | í•˜ë£¨ìœ ì…ëŸ‰: 100~200ê°œ | ìµœì†Œ/ìµœëŒ€: 10/2,000ê°œ | 1ê°œë‹¹ 200ì› | ë¦¬í•„ë¶ˆê°€ | âœ´ï¸ ì™¸êµ­ì¸ ì‚¬ìš©ìë¡œë¶€í„° í‹±í†¡ ë™ì˜ìƒì— ëŒ“ê¸€ì„ ë‹¬ì•„ ìƒí˜¸ì‘ìš© ì¦ê°€ | âœ´ï¸ ê¸€ë¡œë²Œ ì‚¬ìš©ìë¡œ êµ¬ì„±ë˜ì–´ êµ­ì œì ì¸ ì˜í–¥ë ¥ í–¥ìƒ | âœ´ï¸ ë™ì˜ìƒ ì¸ê¸°ë„ ë° ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ í–¥ìƒ | âœ´ï¸ For You í˜ì´ì§€ ë…¸ì¶œë„ ì¦ê°€ | âœ´ï¸ ë‹¤êµ­ì–´ ëŒ“ê¸€ë¡œ êµ­ì œì  ì†Œí†µ ì¦ëŒ€ | âœ´ï¸ í•´ì‹œíƒœê·¸ íŠ¸ë Œë”© íš¨ê³¼ë¡œ ë°”ì´ëŸ´ í™•ì‚° ê°€ëŠ¥ì„± ì¦ëŒ€ | âœ´ï¸ ë¸Œëœë“œ ì¸ì§€ë„ ë° ì‹ ë¢°ë„ í–¥ìƒ | âœ´ï¸ ì§€ì—­ë³„ íƒ€ê²ŸíŒ…ìœ¼ë¡œ íŠ¹ì • êµ­ê°€ ì‹œì¥ ê³µëµ ê°€ëŠ¥ | ê³„ì •ê³µê°œ í•„ìˆ˜, ë¹„ê³µê°œ ê³„ì • ì‘ì—… ë¶ˆê°€ | ì£¼ë¬¸ì ‘ìˆ˜ í›„ ì·¨ì†Œ/ë³€ê²½/í™˜ë¶ˆ ë¶ˆê°€ | 10ëª… ë‹¨ìœ„ ì£¼ë¬¸ ê°€ëŠ¥' }
        ]
      case 'twitter':
        return [
          { id: 'followers_real', name: 'íŒ”ë¡œì›Œ (ë¦¬ì–¼)', description: 'í’ˆì§ˆ: ê³ í’ˆì§ˆ | ì‹œì‘ì‹œê°„: 5ë¶„ | í•˜ë£¨ìœ ì…ëŸ‰: 100~200ëª… | ìµœì†Œ/ìµœëŒ€: 100/200,000ê°œ | 1ê°œë‹¹ 28ì› | ë¦¬í•„ë¶ˆê°€ | âœ´ï¸ ë¦¬ì–¼ ì‚¬ìš©ìë¡œë¶€í„° íŠ¸ìœ„í„° ê³„ì •ì˜ íŒ”ë¡œì›Œë¥¼ ì¦ê°€ì‹œì¼œ ê³„ì •ì˜ ì¸ê¸°ë„ í–¥ìƒ | âœ´ï¸ ìì—°ìŠ¤ëŸ¬ìš´ ì‚¬ìš©ìë¡œ êµ¬ì„±ë˜ì–´ ì–¸íŒ”ì— ì˜í•œ ì´íƒˆ ìµœì†Œí™” | âœ´ï¸ ê³„ì • ê¶Œìœ„ì„± ë° ì‹ ë¢°ë„ í–¥ìƒ | âœ´ï¸ íŠ¸ìœ— ë…¸ì¶œë„ ë° ë¦¬íŠ¸ìœ— ê°€ëŠ¥ì„± ì¦ê°€ | âœ´ï¸ ë¸Œëœë“œ í˜‘ì—… ë° ìˆ˜ìµí™” ê¸°íšŒ í™•ëŒ€ | âœ´ï¸ íŠ¸ìœ„í„° ë¸”ë£¨ ì¸ì¦ íšë“ ìê²© í–¥ìƒ | âœ´ï¸ ì •ì¹˜, ë¹„ì¦ˆë‹ˆìŠ¤, ì—”í„°í…Œì¸ë¨¼íŠ¸ ë“± ë‹¤ì–‘í•œ ë¶„ì•¼ì—ì„œ ì˜í–¥ë ¥ ì¦ëŒ€ | ê³„ì •ê³µê°œ í•„ìˆ˜, ë¹„ê³µê°œ ê³„ì • ì‘ì—… ë¶ˆê°€ | ì£¼ë¬¸ì ‘ìˆ˜ í›„ ì·¨ì†Œ/ë³€ê²½/í™˜ë¶ˆ ë¶ˆê°€ | 100ëª… ë‹¨ìœ„ ì£¼ë¬¸ ê°€ëŠ¥' }
        ]

      case 'facebook':
        return [
          { id: 'followers_korean', name: 'ê°œì¸ê³„ì • íŒ”ë¡œìš° (í•œêµ­ì¸)', description: 'í’ˆì§ˆ: ê³ í’ˆì§ˆ | ì‹œì‘ì‹œê°„: 5ë¶„ | í•˜ë£¨ìœ ì…ëŸ‰: 100~200ëª… | ìµœì†Œ/ìµœëŒ€: 100/50,000ê°œ | 1ê°œë‹¹ 20ì› | ë¦¬í•„ë¶ˆê°€ | âœ´ï¸ í•œêµ­ì¸ ì‚¬ìš©ìë¡œë¶€í„° í˜ì´ìŠ¤ë¶ ê°œì¸ê³„ì •ì˜ íŒ”ë¡œìš°ë¥¼ ì¦ê°€ì‹œì¼œ ê³„ì •ì˜ ì¸ê¸°ë„ í–¥ìƒ | âœ´ï¸ ìì—°ìŠ¤ëŸ¬ìš´ í•œêµ­ì–´ ì‚¬ìš©ìë¡œ êµ¬ì„±ë˜ì–´ ì–¸íŒ”ì— ì˜í•œ ì´íƒˆ ìµœì†Œí™” | âœ´ï¸ ê°œì¸ ë¸Œëœë”© ë° ì˜í–¥ë ¥ ì¦ëŒ€ | âœ´ï¸ ê²Œì‹œë¬¼ ë…¸ì¶œë„ ë° ìƒí˜¸ì‘ìš© ì¦ê°€ | âœ´ï¸ í•œêµ­ ì‹œì¥ì—ì„œì˜ ì‹ ë¢°ë„ ë° ì¸ì§€ë„ í–¥ìƒ | âœ´ï¸ ë¹„ì¦ˆë‹ˆìŠ¤ ë„¤íŠ¸ì›Œí‚¹ ê¸°íšŒ í™•ëŒ€ | âœ´ï¸ í˜ì´ìŠ¤ë¶ ì¸í”Œë£¨ì–¸ì„œ í”„ë¡œê·¸ë¨ ì°¸ì—¬ ìê²© íšë“ ê°€ëŠ¥ | ê³„ì •ê³µê°œ í•„ìˆ˜, ë¹„ê³µê°œ ê³„ì • ì‘ì—… ë¶ˆê°€ | ì£¼ë¬¸ì ‘ìˆ˜ í›„ ì·¨ì†Œ/ë³€ê²½/í™˜ë¶ˆ ë¶ˆê°€ | 100ëª… ë‹¨ìœ„ ì£¼ë¬¸ ê°€ëŠ¥' },
          { id: 'followers_foreign', name: 'í”„ë¡œí•„ íŒ”ë¡œìš° (ì™¸êµ­ì¸)', description: 'í’ˆì§ˆ: ê³ í’ˆì§ˆ | ì‹œì‘ì‹œê°„: 5ë¶„ | í•˜ë£¨ìœ ì…ëŸ‰: 100~200ëª… | ìµœì†Œ/ìµœëŒ€: 100/100,000ê°œ | 1ê°œë‹¹ 20ì› | ë¦¬í•„ë¶ˆê°€ | âœ´ï¸ ì™¸êµ­ì¸ ì‚¬ìš©ìë¡œë¶€í„° í˜ì´ìŠ¤ë¶ í”„ë¡œí•„ì˜ íŒ”ë¡œìš°ë¥¼ ì¦ê°€ì‹œì¼œ ê³„ì •ì˜ ì¸ê¸°ë„ í–¥ìƒ | âœ´ï¸ ê¸€ë¡œë²Œ ì‚¬ìš©ìë¡œ êµ¬ì„±ë˜ì–´ êµ­ì œì ì¸ ì˜í–¥ë ¥ í–¥ìƒ | âœ´ï¸ ê³„ì • ê¶Œìœ„ì„± ë° ì‹ ë¢°ë„ í–¥ìƒ | âœ´ï¸ ì½˜í…ì¸  ë…¸ì¶œë„ ë° ìƒí˜¸ì‘ìš© ì¦ê°€ | âœ´ï¸ êµ­ì œ ì‹œì¥ì—ì„œì˜ ë¸Œëœë“œ ì¸ì§€ë„ í–¥ìƒ | âœ´ï¸ ë‹¤êµ­ì–´ ì½˜í…ì¸ ë¡œ ê¸€ë¡œë²Œ ì‹œì¥ ê³µëµ ê°€ëŠ¥ | âœ´ï¸ í˜ì´ìŠ¤ë¶ ì¸í”Œë£¨ì–¸ì„œ í”„ë¡œê·¸ë¨ ì°¸ì—¬ ìê²© íšë“ ê°€ëŠ¥ | ê³„ì •ê³µê°œ í•„ìˆ˜, ë¹„ê³µê°œ ê³„ì • ì‘ì—… ë¶ˆê°€ | ì£¼ë¬¸ì ‘ìˆ˜ í›„ ì·¨ì†Œ/ë³€ê²½/í™˜ë¶ˆ ë¶ˆê°€ | 100ëª… ë‹¨ìœ„ ì£¼ë¬¸ ê°€ëŠ¥' },
          { id: 'likes_korean', name: 'ê²Œì‹œë¬¼ ì¢‹ì•„ìš” (ë¦¬ì–¼ í•œêµ­ì¸)', description: 'í’ˆì§ˆ: ê³ í’ˆì§ˆ | ì‹œì‘ì‹œê°„: 5ë¶„ | í•˜ë£¨ìœ ì…ëŸ‰: 100~200ê°œ | ìµœì†Œ/ìµœëŒ€: 100/50,000ê°œ | 1ê°œë‹¹ 20ì› | ë¦¬í•„ë¶ˆê°€ | âœ´ï¸ ë¦¬ì–¼ í•œêµ­ì¸ ì‚¬ìš©ìë¡œë¶€í„° í˜ì´ìŠ¤ë¶ ê²Œì‹œë¬¼ì˜ ì¢‹ì•„ìš”ë¥¼ ë°›ì•„ ê²Œì‹œë¬¼ì˜ ì¸ê¸°ë„ í–¥ìƒ | âœ´ï¸ ìì—°ìŠ¤ëŸ¬ìš´ í•œêµ­ì–´ ì‚¬ìš©ìë¡œ êµ¬ì„±ë˜ì–´ ì–¸íŒ”ì— ì˜í•œ ì´íƒˆ ìµœì†Œí™” | âœ´ï¸ ê²Œì‹œë¬¼ ë…¸ì¶œë„ ë° ìƒí˜¸ì‘ìš© ì¦ê°€ | âœ´ï¸ í•œêµ­ ì‹œì¥ì—ì„œì˜ ì½˜í…ì¸  ì¸ê¸°ë„ í–¥ìƒ | âœ´ï¸ ëŒ“ê¸€ ë° ê³µìœ  ê°€ëŠ¥ì„± ì¦ê°€ | âœ´ï¸ í˜ì´ìŠ¤ë¶ ì•Œê³ ë¦¬ì¦˜ì—ì„œ ìš°ì„ ìˆœìœ„ ìƒìŠ¹ | âœ´ï¸ ë¸Œëœë“œ ì¸ì§€ë„ ë° ì‹ ë¢°ë„ í–¥ìƒ | ê³„ì •ê³µê°œ í•„ìˆ˜, ë¹„ê³µê°œ ê³„ì • ì‘ì—… ë¶ˆê°€ | ì£¼ë¬¸ì ‘ìˆ˜ í›„ ì·¨ì†Œ/ë³€ê²½/í™˜ë¶ˆ ë¶ˆê°€ | 100ëª… ë‹¨ìœ„ ì£¼ë¬¸ ê°€ëŠ¥' },
          { id: 'likes_foreign', name: 'ê²Œì‹œë¬¼ ì¢‹ì•„ìš” (ì™¸êµ­ì¸)', description: 'í’ˆì§ˆ: ê³ í’ˆì§ˆ | ì‹œì‘ì‹œê°„: 5ë¶„ | í•˜ë£¨ìœ ì…ëŸ‰: 100~200ê°œ | ìµœì†Œ/ìµœëŒ€: 100/100,000ê°œ | 1ê°œë‹¹ 20ì› | ë¦¬í•„ë¶ˆê°€ | âœ´ï¸ ì™¸êµ­ì¸ ì‚¬ìš©ìë¡œë¶€í„° í˜ì´ìŠ¤ë¶ ê²Œì‹œë¬¼ì˜ ì¢‹ì•„ìš”ë¥¼ ë°›ì•„ ê²Œì‹œë¬¼ì˜ ì¸ê¸°ë„ í–¥ìƒ | âœ´ï¸ ê¸€ë¡œë²Œ ì‚¬ìš©ìë¡œ êµ¬ì„±ë˜ì–´ êµ­ì œì ì¸ ì˜í–¥ë ¥ í–¥ìƒ | âœ´ï¸ ê²Œì‹œë¬¼ ë…¸ì¶œë„ ë° ìƒí˜¸ì‘ìš© ì¦ê°€ | âœ´ï¸ êµ­ì œ ì‹œì¥ì—ì„œì˜ ì½˜í…ì¸  ì¸ê¸°ë„ í–¥ìƒ | âœ´ï¸ ë‹¤êµ­ì–´ ëŒ“ê¸€ ë° ê³µìœ  ê°€ëŠ¥ì„± ì¦ê°€ | âœ´ï¸ í˜ì´ìŠ¤ë¶ ì•Œê³ ë¦¬ì¦˜ì—ì„œ ìš°ì„ ìˆœìœ„ ìƒìŠ¹ | âœ´ï¸ ê¸€ë¡œë²Œ ë¸Œëœë“œ ì¸ì§€ë„ ë° ì‹ ë¢°ë„ í–¥ìƒ | ê³„ì •ê³µê°œ í•„ìˆ˜, ë¹„ê³µê°œ ê³„ì • ì‘ì—… ë¶ˆê°€ | ì£¼ë¬¸ì ‘ìˆ˜ í›„ ì·¨ì†Œ/ë³€ê²½/í™˜ë¶ˆ ë¶ˆê°€ | 100ëª… ë‹¨ìœ„ ì£¼ë¬¸ ê°€ëŠ¥' },
          { id: 'comments_korean', name: 'ê²Œì‹œë¬¼ ëœë¤ ëŒ“ê¸€ (í•œêµ­ì¸)', description: 'í’ˆì§ˆ: ê³ í’ˆì§ˆ | ì‹œì‘ì‹œê°„: 5ë¶„ | í•˜ë£¨ìœ ì…ëŸ‰: 100~200ê°œ | ìµœì†Œ/ìµœëŒ€: 10/1,000ê°œ | 1ê°œë‹¹ 200ì› | ë¦¬í•„ë¶ˆê°€ | âœ´ï¸ í•œêµ­ì¸ ì‚¬ìš©ìë¡œë¶€í„° í˜ì´ìŠ¤ë¶ ê²Œì‹œë¬¼ì— ëœë¤ ëŒ“ê¸€ì„ ë‹¬ì•„ ìƒí˜¸ì‘ìš© ì¦ê°€ | âœ´ï¸ ìì—°ìŠ¤ëŸ¬ìš´ í•œêµ­ì–´ ëŒ“ê¸€ë¡œ êµ¬ì„±ë˜ì–´ í˜„ì§€ ì‹œì¥ì—ì„œì˜ ì‹ ë¢°ë„ í–¥ìƒ | âœ´ï¸ ê²Œì‹œë¬¼ ë…¸ì¶œë„ ë° ìƒí˜¸ì‘ìš© ì¦ê°€ | âœ´ï¸ í•œêµ­ ì‹œì¥ì—ì„œì˜ ì½˜í…ì¸  ì¸ê¸°ë„ í–¥ìƒ | âœ´ï¸ ëŒ“ê¸€ì„ í†µí•œ ì¶”ê°€ ìƒí˜¸ì‘ìš© ìœ ë„ | âœ´ï¸ í˜ì´ìŠ¤ë¶ ì•Œê³ ë¦¬ì¦˜ì—ì„œ ìš°ì„ ìˆœìœ„ ìƒìŠ¹ | âœ´ï¸ ë¸Œëœë“œ ì¸ì§€ë„ ë° ì‹ ë¢°ë„ í–¥ìƒ | âœ´ï¸ ì§€ì—­ë³„ íƒ€ê²ŸíŒ…ìœ¼ë¡œ í•œêµ­ ì‹œì¥ ê³µëµ ê°€ëŠ¥ | ê³„ì •ê³µê°œ í•„ìˆ˜, ë¹„ê³µê°œ ê³„ì • ì‘ì—… ë¶ˆê°€ | ì£¼ë¬¸ì ‘ìˆ˜ í›„ ì·¨ì†Œ/ë³€ê²½/í™˜ë¶ˆ ë¶ˆê°€ | 10ëª… ë‹¨ìœ„ ì£¼ë¬¸ ê°€ëŠ¥' }
        ]
      case 'youtube':
        return [
          { id: 'followers_foreign', name: 'êµ¬ë…ì (ì™¸êµ­ì¸)', description: 'í’ˆì§ˆ: ê³ í’ˆì§ˆ | ì‹œì‘ì‹œê°„: 5ë¶„ | í•˜ë£¨ìœ ì…ëŸ‰: 100~200ëª… | ìµœì†Œ/ìµœëŒ€: 100/100ê°œ | 1ê°œë‹¹ 50ì› | ë¦¬í•„ë¶ˆê°€ | âœ´ï¸ ì™¸êµ­ì¸ ì‚¬ìš©ìë¡œë¶€í„° ìœ íŠœë¸Œ ì±„ë„ì˜ êµ¬ë…ì ìˆ˜ ì¦ê°€ | âœ´ï¸ ê¸€ë¡œë²Œ ì‚¬ìš©ìë¡œ êµ¬ì„±ë˜ì–´ êµ­ì œì ì¸ ì˜í–¥ë ¥ í–¥ìƒ | âœ´ï¸ ì±„ë„ ì¸ê¸°ë„ ë° ê¶Œìœ„ì„± í–¥ìƒ | âœ´ï¸ ìœ íŠœë¸Œ íŒŒíŠ¸ë„ˆ í”„ë¡œê·¸ë¨ ì°¸ì—¬ ìê²© íšë“ ê°€ëŠ¥ | âœ´ï¸ ê´‘ê³  ìˆ˜ìµ ë° ë¸Œëœë“œ í˜‘ì—… ê¸°íšŒ í™•ëŒ€ | âœ´ï¸ ë‹¤êµ­ì–´ ì½˜í…ì¸ ë¡œ ê¸€ë¡œë²Œ ì‹œì¥ ê³µëµ ê°€ëŠ¥ | âœ´ï¸ ì±„ë„ ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ì—ì„œ ìš°ì„ ìˆœìœ„ ìƒìŠ¹ | ê³„ì •ê³µê°œ í•„ìˆ˜, ë¹„ê³µê°œ ê³„ì • ì‘ì—… ë¶ˆê°€ | ì£¼ë¬¸ì ‘ìˆ˜ í›„ ì·¨ì†Œ/ë³€ê²½/í™˜ë¶ˆ ë¶ˆê°€ | 100ëª… ë‹¨ìœ„ ì£¼ë¬¸ ê°€ëŠ¥' },
          { id: 'followers_korean', name: 'êµ¬ë…ì (ë¦¬ì–¼ í•œêµ­ì¸)', description: 'í’ˆì§ˆ: ê³ í’ˆì§ˆ | ì‹œì‘ì‹œê°„: 5ë¶„ | í•˜ë£¨ìœ ì…ëŸ‰: 100~200ëª… | ìµœì†Œ/ìµœëŒ€: 50/1,000ê°œ | 1ê°œë‹¹ 500ì› | ë¦¬í•„ë¶ˆê°€ | âœ´ï¸ ë¦¬ì–¼ í•œêµ­ì¸ ì‚¬ìš©ìë¡œë¶€í„° ìœ íŠœë¸Œ ì±„ë„ì˜ êµ¬ë…ì ìˆ˜ ì¦ê°€ | âœ´ï¸ ìì—°ìŠ¤ëŸ¬ìš´ í•œêµ­ì–´ ì‚¬ìš©ìë¡œ êµ¬ì„± | âœ´ï¸ ì±„ë„ ì¸ê¸°ë„ ë° ê¶Œìœ„ì„± í–¥ìƒ | âœ´ï¸ ì–¸íŒ”ì— ì˜í•œ ì´íƒˆ ìµœì†Œí™” | âœ´ï¸ í•œêµ­ ì‹œì¥ì—ì„œì˜ ì‹ ë¢°ë„ ë° ì¸ì§€ë„ í–¥ìƒ | âœ´ï¸ ìœ íŠœë¸Œ íŒŒíŠ¸ë„ˆ í”„ë¡œê·¸ë¨ ì°¸ì—¬ ìê²© íšë“ ê°€ëŠ¥ | âœ´ï¸ í•œêµ­ ì‹œì¥ì—ì„œì˜ ë¸Œëœë“œ í˜‘ì—… ê¸°íšŒ í™•ëŒ€ | âœ´ï¸ ì±„ë„ ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ì—ì„œ ìš°ì„ ìˆœìœ„ ìƒìŠ¹ | ê³„ì •ê³µê°œ í•„ìˆ˜, ë¹„ê³µê°œ ê³„ì • ì‘ì—… ë¶ˆê°€ | ì£¼ë¬¸ì ‘ìˆ˜ í›„ ì·¨ì†Œ/ë³€ê²½/í™˜ë¶ˆ ë¶ˆê°€ | 50ëª… ë‹¨ìœ„ ì£¼ë¬¸ ê°€ëŠ¥' },
          { id: 'likes_foreign', name: 'ì¢‹ì•„ìš” (ì™¸êµ­ì¸)', description: 'í’ˆì§ˆ: ê³ í’ˆì§ˆ | ì‹œì‘ì‹œê°„: 5ë¶„ | í•˜ë£¨ìœ ì…ëŸ‰: 100~200ê°œ | ìµœì†Œ/ìµœëŒ€: 100/5,000ê°œ | 1ê°œë‹¹ 7ì› | ë¦¬í•„ë¶ˆê°€ | âœ´ï¸ ì™¸êµ­ì¸ ì‚¬ìš©ìë¡œë¶€í„° ìœ íŠœë¸Œ ë™ì˜ìƒì˜ ì¢‹ì•„ìš” ìˆ˜ ì¦ê°€ | âœ´ï¸ ê¸€ë¡œë²Œ ì‚¬ìš©ìë¡œ êµ¬ì„±ë˜ì–´ êµ­ì œì ì¸ ì˜í–¥ë ¥ í–¥ìƒ | âœ´ï¸ ë™ì˜ìƒ ì¸ê¸°ë„ ë° ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ í–¥ìƒ | âœ´ï¸ ë™ì˜ìƒ ë…¸ì¶œë„ ë° ê²€ìƒ‰ ìˆœìœ„ ìƒìŠ¹ | âœ´ï¸ ëŒ“ê¸€ ë° ê³µìœ  ê°€ëŠ¥ì„± ì¦ê°€ | âœ´ï¸ ê¸€ë¡œë²Œ ì‹œì¥ì—ì„œì˜ ì½˜í…ì¸  ì¸ê¸°ë„ í–¥ìƒ | âœ´ï¸ ë¸Œëœë“œ ì¸ì§€ë„ ë° ì‹ ë¢°ë„ í–¥ìƒ | ê³„ì •ê³µê°œ í•„ìˆ˜, ë¹„ê³µê°œ ê³„ì • ì‘ì—… ë¶ˆê°€ | ì£¼ë¬¸ì ‘ìˆ˜ í›„ ì·¨ì†Œ/ë³€ê²½/í™˜ë¶ˆ ë¶ˆê°€ | 100ëª… ë‹¨ìœ„ ì£¼ë¬¸ ê°€ëŠ¥' },
          { id: 'comments_korean', name: 'ëŒ“ê¸€ (AI ëœë¤ í•œêµ­ì¸)', description: 'í’ˆì§ˆ: ê³ í’ˆì§ˆ | ì‹œì‘ì‹œê°„: 5ë¶„ | í•˜ë£¨ìœ ì…ëŸ‰: 100~200ê°œ | ìµœì†Œ/ìµœëŒ€: 10/10,000ê°œ | 1ê°œë‹¹ 150ì› | ë¦¬í•„ë¶ˆê°€ | âœ´ï¸ AIê°€ ìƒì„±í•œ í•œêµ­ì–´ ëŒ“ê¸€ì„ ë‹¬ì•„ ë™ì˜ìƒì˜ ìƒí˜¸ì‘ìš© ì¦ê°€ | âœ´ï¸ ìì—°ìŠ¤ëŸ¬ìš´ í•œêµ­ì–´ ëŒ“ê¸€ìœ¼ë¡œ êµ¬ì„± | âœ´ï¸ ë™ì˜ìƒ ì¸ê¸°ë„ ë° ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ í–¥ìƒ | âœ´ï¸ í•œêµ­ ì‹œì¥ì—ì„œì˜ ì½˜í…ì¸  ì¸ê¸°ë„ í–¥ìƒ | âœ´ï¸ ëŒ“ê¸€ì„ í†µí•œ ì¶”ê°€ ìƒí˜¸ì‘ìš© ìœ ë„ | âœ´ï¸ ë™ì˜ìƒ ë…¸ì¶œë„ ë° ê²€ìƒ‰ ìˆœìœ„ ìƒìŠ¹ | âœ´ï¸ ë¸Œëœë“œ ì¸ì§€ë„ ë° ì‹ ë¢°ë„ í–¥ìƒ | âœ´ï¸ ì§€ì—­ë³„ íƒ€ê²ŸíŒ…ìœ¼ë¡œ í•œêµ­ ì‹œì¥ ê³µëµ ê°€ëŠ¥ | ê³„ì •ê³µê°œ í•„ìˆ˜, ë¹„ê³µê°œ ê³„ì • ì‘ì—… ë¶ˆê°€ | ì£¼ë¬¸ì ‘ìˆ˜ í›„ ì·¨ì†Œ/ë³€ê²½/í™˜ë¶ˆ ë¶ˆê°€ | 10ëª… ë‹¨ìœ„ ì£¼ë¬¸ ê°€ëŠ¥' },
          { id: 'views_foreign', name: 'ì¡°íšŒìˆ˜ (ì™¸êµ­ì¸)', description: 'í’ˆì§ˆ: ê³ í’ˆì§ˆ | ì‹œì‘ì‹œê°„: 5ë¶„ | í•˜ë£¨ìœ ì…ëŸ‰: 100~200ê°œ | ìµœì†Œ/ìµœëŒ€: 100/10,000,000ê°œ | 1ê°œë‹¹ 7ì› | ë¦¬í•„ë¶ˆê°€ | âœ´ï¸ ì™¸êµ­ì¸ ì‚¬ìš©ìë¡œë¶€í„° ìœ íŠœë¸Œ ë™ì˜ìƒì˜ ì¡°íšŒìˆ˜ ì¦ê°€ | âœ´ï¸ ê¸€ë¡œë²Œ ì‚¬ìš©ìë¡œ êµ¬ì„±ë˜ì–´ êµ­ì œì ì¸ ì˜í–¥ë ¥ í–¥ìƒ | âœ´ï¸ ë™ì˜ìƒ ë…¸ì¶œë„ ë° ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ í–¥ìƒ | âœ´ï¸ ë™ì˜ìƒ ê²€ìƒ‰ ìˆœìœ„ ë° ì¶”ì²œ ì˜ìƒ ë“±ê·¹ ê°€ëŠ¥ | âœ´ï¸ ê¸€ë¡œë²Œ ì‹œì¥ì—ì„œì˜ ì½˜í…ì¸  ì¸ê¸°ë„ í–¥ìƒ | âœ´ï¸ ê´‘ê³  ìˆ˜ìµ ë° ë¸Œëœë“œ í˜‘ì—… ê¸°íšŒ í™•ëŒ€ | âœ´ï¸ ë¸Œëœë“œ ì¸ì§€ë„ ë° ì‹ ë¢°ë„ í–¥ìƒ | âœ´ï¸ ë™ì˜ìƒ íŠ¸ë Œë”© íš¨ê³¼ë¡œ ë°”ì´ëŸ´ í™•ì‚° ê°€ëŠ¥ì„± ì¦ëŒ€ | ê³„ì •ê³µê°œ í•„ìˆ˜, ë¹„ê³µê°œ ê³„ì • ì‘ì—… ë¶ˆê°€ | ì£¼ë¬¸ì ‘ìˆ˜ í›„ ì·¨ì†Œ/ë³€ê²½/í™˜ë¶ˆ ë¶ˆê°€ | 100ëª… ë‹¨ìœ„ ì£¼ë¬¸ ê°€ëŠ¥' },
          { id: 'views_korean', name: 'ì¡°íšŒìˆ˜ (ë¦¬ì–¼ í•œêµ­ì¸)', description: 'í’ˆì§ˆ: ê³ í’ˆì§ˆ | ì‹œì‘ì‹œê°„: 5ë¶„ | í•˜ë£¨ìœ ì…ëŸ‰: 100~200ê°œ | ìµœì†Œ/ìµœëŒ€: 4,000/100,000ê°œ | 1ê°œë‹¹ 25ì› | ë¦¬í•„ë¶ˆê°€ | âœ´ï¸ ë¦¬ì–¼ í•œêµ­ì¸ ì‚¬ìš©ìë¡œë¶€í„° ìœ íŠœë¸Œ ë™ì˜ìƒì˜ ì¡°íšŒìˆ˜ ì¦ê°€ | âœ´ï¸ ìì—°ìŠ¤ëŸ¬ìš´ í•œêµ­ì–´ ì‚¬ìš©ìë¡œ êµ¬ì„± | âœ´ï¸ ë™ì˜ìƒ ë…¸ì¶œë„ ë° ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ í–¥ìƒ | âœ´ï¸ ì–¸íŒ”ì— ì˜í•œ ì´íƒˆ ìµœì†Œí™” | âœ´ï¸ í•œêµ­ ì‹œì¥ì—ì„œì˜ ì½˜í…ì¸  ì¸ê¸°ë„ í–¥ìƒ | âœ´ï¸ ë™ì˜ìƒ ê²€ìƒ‰ ìˆœìœ„ ë° ì¶”ì²œ ì˜ìƒ ë“±ê·¹ ê°€ëŠ¥ | âœ´ï¸ í•œêµ­ ì‹œì¥ì—ì„œì˜ ë¸Œëœë“œ í˜‘ì—… ê¸°íšŒ í™•ëŒ€ | âœ´ï¸ ì§€ì—­ë³„ íƒ€ê²ŸíŒ…ìœ¼ë¡œ í•œêµ­ ì‹œì¥ ê³µëµ ê°€ëŠ¥ | ê³„ì •ê³µê°œ í•„ìˆ˜, ë¹„ê³µê°œ ê³„ì • ì‘ì—… ë¶ˆê°€ | ì£¼ë¬¸ì ‘ìˆ˜ í›„ ì·¨ì†Œ/ë³€ê²½/í™˜ë¶ˆ ë¶ˆê°€ | 1,000ëª… ë‹¨ìœ„ ì£¼ë¬¸ ê°€ëŠ¥' }
        ]
      default:
        return [
          { id: 'followers_korean', name: 'íŒ”ë¡œì›Œ (í•œêµ­ì¸)', description: 'í•œêµ­ì¸ íŒ”ë¡œì›Œë¥¼ ëŠ˜ë ¤ë“œë¦¬ëŠ” ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. í•œêµ­ì–´ ì‚¬ìš©ìë¡œ êµ¬ì„±ë˜ì–´ ìˆì–´ ë” ìì—°ìŠ¤ëŸ¬ìš´ íŒ”ë¡œì›Œ ì¦ê°€ë¥¼ ê¸°ëŒ€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.' },
          { id: 'followers_foreign', name: 'íŒ”ë¡œì›Œ (ì™¸êµ­ì¸)', description: 'ì™¸êµ­ì¸ íŒ”ë¡œì›Œë¥¼ ëŠ˜ë ¤ë“œë¦¬ëŠ” ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. ê¸€ë¡œë²Œ íŒ”ë¡œì›Œë¡œ êµ¬ì„±ë˜ì–´ ìˆì–´ êµ­ì œì ì¸ ì˜í–¥ë ¥ì„ ë†’ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.' },
          { id: 'likes_korean', name: 'ì¢‹ì•„ìš” (í•œêµ­ì¸)', description: 'í•œêµ­ì¸ ì‚¬ìš©ìë¡œë¶€í„° ì¢‹ì•„ìš”ë¥¼ ë°›ì•„ ê²Œì‹œë¬¼ì˜ ì¸ê¸°ë„ë¥¼ ë†’ì—¬ë“œë¦¬ëŠ” ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.' },
          { id: 'likes_foreign', name: 'ì¢‹ì•„ìš” (ì™¸êµ­ì¸)', description: 'ì™¸êµ­ì¸ ì‚¬ìš©ìë¡œë¶€í„° ì¢‹ì•„ìš”ë¥¼ ë°›ì•„ ê²Œì‹œë¬¼ì˜ ì¸ê¸°ë„ë¥¼ ë†’ì—¬ë“œë¦¬ëŠ” ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.' },
          { id: 'comments_korean', name: 'ëŒ“ê¸€ (í•œêµ­ì¸)', description: 'í•œêµ­ì–´ ëŒ“ê¸€ì„ ë‹¬ì•„ ê²Œì‹œë¬¼ì˜ ì¸ê¸°ë„ë¥¼ ë†’ì—¬ë“œë¦¬ëŠ” ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. ì»¤ìŠ¤í…€ ëŒ“ê¸€ì„ ì…ë ¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.' },
          { id: 'comments_foreign', name: 'ëŒ“ê¸€ (ì™¸êµ­ì¸)', description: 'ì™¸êµ­ì–´ ëŒ“ê¸€ì„ ë‹¬ì•„ ê²Œì‹œë¬¼ì˜ ì¸ê¸°ë„ë¥¼ ë†’ì—¬ë“œë¦¬ëŠ” ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.' },
          { id: 'views_korean', name: 'ì¡°íšŒìˆ˜ (í•œêµ­ì¸)', description: 'í•œêµ­ì¸ ì‚¬ìš©ìë¡œë¶€í„° ì¡°íšŒìˆ˜ë¥¼ ì¦ê°€ì‹œì¼œ ì½˜í…ì¸ ì˜ ë…¸ì¶œë„ë¥¼ ë†’ì—¬ë“œë¦¬ëŠ” ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.' },
          { id: 'views_foreign', name: 'ì¡°íšŒìˆ˜ (ì™¸êµ­ì¸)', description: 'ì™¸êµ­ì¸ ì‚¬ìš©ìë¡œë¶€í„° ì¡°íšŒìˆ˜ë¥¼ ì¦ê°€ì‹œì¼œ ì½˜í…ì¸ ì˜ ë…¸ì¶œë„ë¥¼ ë†’ì—¬ë“œë¦¬ëŠ” ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.' }
        ]
    }
  }
  
  const services = getServicesForPlatform(platform)
  
  // ğŸ¯ ì™„ë²½í•œ ì„œë¹„ìŠ¤ ì„ íƒ í•¸ë“¤ëŸ¬
  const handleServiceSelect = (serviceId) => {
    console.log('=== ğŸ¯ ì„œë¹„ìŠ¤ ì„ íƒ ì‹œì‘ ===')
    console.log('ì„ íƒëœ ì„œë¹„ìŠ¤ ID:', serviceId)
    console.log('ì´ì „ selectedService:', selectedService)
    console.log('í˜„ì¬ í”Œë«í¼:', platform)
    
    // 1ë‹¨ê³„: ì…ë ¥ê°’ ê²€ì¦
    if (!serviceId || serviceId === 'undefined' || serviceId === undefined) {
      console.error('âŒ ìœ íš¨í•˜ì§€ ì•Šì€ ì„œë¹„ìŠ¤ ID ì…ë ¥:', serviceId)
      alert('ìœ íš¨í•œ ì„œë¹„ìŠ¤ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.')
      return
    }
    
    // 2ë‹¨ê³„: ì„œë¹„ìŠ¤ ìœ íš¨ì„± ê²€ì¦
    const services = getServicesForPlatform(platform)
    const validServiceIds = services.map(s => s.id)
    
    if (!validServiceIds.includes(serviceId)) {
      console.error('âŒ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì„œë¹„ìŠ¤ ID:', serviceId)
      console.error('ìœ íš¨í•œ ì„œë¹„ìŠ¤ IDë“¤:', validServiceIds)
      alert('ì„ íƒí•œ ì„œë¹„ìŠ¤ê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì„ íƒí•´ì£¼ì„¸ìš”.')
      return
    }
    
    // 3ë‹¨ê³„: ì„œë¹„ìŠ¤ ì„¤ì • ë° ë¡œê¹…
    console.log('âœ… ìœ íš¨í•œ ì„œë¹„ìŠ¤ ì„ íƒ í™•ì¸')
    console.log('ì´ì „ ì„œë¹„ìŠ¤:', selectedService)
    console.log('ìƒˆë¡œìš´ ì„œë¹„ìŠ¤:', serviceId)
    
    setSelectedService(serviceId)
    
    // 4ë‹¨ê³„: ì„¤ì • ì™„ë£Œ í™•ì¸
    console.log('ğŸ‰ ì„œë¹„ìŠ¤ ì„ íƒ ì™„ë£Œ:', serviceId)
    
    // 5ë‹¨ê³„: ì¶”ê°€ ê²€ì¦
    setTimeout(() => {
      if (selectedService === serviceId) {
        console.log('âœ… ì„œë¹„ìŠ¤ ìƒíƒœ ë™ê¸°í™” ì™„ë£Œ')
      } else {
        console.warn('âš ï¸ ì„œë¹„ìŠ¤ ìƒíƒœ ë™ê¸°í™” ì§€ì—°, ê°•ì œ ì„¤ì • ì‹œë„')
        forceSetValidService(serviceId)
      }
    }, 100)
  }
  
  // í¬ì¸íŠ¸ ë¡œë“œ
  const loadUserPoints = async () => {
    if (currentUser) {
      try {
        const response = await smmpanelApi.getUserPoints(currentUser.uid)
        setUserPoints(response.points || 0)
      } catch (error) {
        console.error('í¬ì¸íŠ¸ ì¡°íšŒ ì‹¤íŒ¨:', error)
      }
    }
  }

  useEffect(() => {
    loadUserPoints()
  }, [currentUser])

  useEffect(() => {
    const price = calculatePrice(selectedService, quantity, platform)
    setTotalPrice(price)
    
    // ì„œë¹„ìŠ¤ê°€ ë³€ê²½ë˜ë©´ ìˆ˜ëŸ‰ ì˜µì…˜ ì—…ë°ì´íŠ¸
    const newQuantityOptions = getQuantityOptions(platform, selectedService)
    if (newQuantityOptions !== quantityOptions) {
      // í˜„ì¬ ì„ íƒëœ ìˆ˜ëŸ‰ì´ ìƒˆë¡œìš´ ì˜µì…˜ì— ì—†ìœ¼ë©´ ì²« ë²ˆì§¸ ì˜µì…˜ìœ¼ë¡œ ì„¤ì •
      if (!newQuantityOptions.includes(quantity)) {
        setQuantity(newQuantityOptions[0])
      }
    }
  }, [selectedService, quantity, platform])

  // í¬ì¸íŠ¸ ì‚¬ìš© ê³„ì‚°
  useEffect(() => {
    if (usePoints && userPoints > 0) {
      const maxPointsToUse = Math.min(userPoints, totalPrice)
      setPointsToUse(maxPointsToUse)
      setFinalPrice(totalPrice - maxPointsToUse)
    } else {
      setPointsToUse(0)
      setFinalPrice(totalPrice)
    }
  }, [usePoints, userPoints, totalPrice])

  // í¬ì¸íŠ¸ ë¶€ì¡± ì‹œ í¬ì¸íŠ¸ ì¶©ì „ í˜ì´ì§€ë¡œ ì´ë™
  const handleInsufficientPoints = () => {
    const insufficientAmount = totalPrice - userPoints
    alert(`í¬ì¸íŠ¸ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤. ${insufficientAmount.toLocaleString()}Pê°€ ë” í•„ìš”í•©ë‹ˆë‹¤. í¬ì¸íŠ¸ ì¶©ì „ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.`)
    navigate('/points')
  }
  
  // snspop API ì„œë¹„ìŠ¤ ID ë§¤í•‘
  const serviceIdMapping = {
    instagram: {
              followers_korean: 577,    // ì¸ìŠ¤íƒ€ê·¸ë¨ íŒ”ë¡œì›Œ (í•œêµ­ì¸) - API ID: 577
      followers_foreign: 855,   // ì¸ìŠ¤íƒ€ê·¸ë¨ íŒ”ë¡œì›Œ (ì™¸êµ­ì¸) - API ID: 855
      likes_korean: 790,        // ì¸ìŠ¤íƒ€ê·¸ë¨ ì¢‹ì•„ìš” (í•œêµ­ì¸) - API ID: 790
      likes_foreign: 458,       // ì¸ìŠ¤íƒ€ê·¸ë¨ ì¢‹ì•„ìš” (ì™¸êµ­ì¸) - API ID: 458
      comments_korean: 841,     // ì¸ìŠ¤íƒ€ê·¸ë¨ ëŒ“ê¸€ (í•œêµ­ì¸) - API ID: 841
      comments_foreign: 645,    // ì¸ìŠ¤íƒ€ê·¸ë¨ ëŒ“ê¸€ (ì™¸êµ­ì¸) - API ID: 645
      views_korean: 619,        // ì¸ìŠ¤íƒ€ê·¸ë¨ ì¡°íšŒìˆ˜ (í•œêµ­ì¸) - API ID: 619
      views_foreign: 791        // ì¸ìŠ¤íƒ€ê·¸ë¨ ì¡°íšŒìˆ˜ (ì™¸êµ­ì¸) - API ID: 791
    },
    tiktok: {
      likes_foreign: 244,      // í‹±í†¡ ì™¸êµ­ì¸ ì¢‹ì•„ìš” - API ID: 244
      followers_foreign: 702,  // í‹±í†¡ ì™¸êµ­ì¸ ê³„ì • íŒ”ë¡œì›Œ - API ID: 702
      views_foreign: 245,      // í‹±í†¡ ì™¸êµ­ì¸ ì¡°íšŒìˆ˜ - API ID: 245
      comments_foreign: 847    // í‹±í†¡ ì™¸êµ­ì¸ ëœë¤ ëŒ“ê¸€ - API ID: 847
    },
    twitter: {
      followers_real: 780      // íŠ¸ìœ„í„° ë¦¬ì–¼ íŒ”ë¡œì›Œ - API ID: 780
    },
    facebook: {
      followers_korean: 564,   // í˜ì´ìŠ¤ë¶ í•œêµ­ì¸ ê°œì¸ê³„ì • íŒ”ë¡œìš° - API ID: 564
      followers_foreign: 818,  // í˜ì´ìŠ¤ë¶ ì™¸êµ­ì¸ í”„ë¡œí•„ íŒ”ë¡œìš° - API ID: 818
      likes_korean: 546,       // í˜ì´ìŠ¤ë¶ ë¦¬ì–¼ í•œêµ­ì¸ ê²Œì‹œë¬¼ ì¢‹ì•„ìš” - API ID: 546
      likes_foreign: 451,      // í˜ì´ìŠ¤ë¶ ì™¸êµ­ì¸ ê²Œì‹œë¬¼ ì¢‹ì•„ìš” - API ID: 451
      comments_korean: 292     // í˜ì´ìŠ¤ë¶ í•œêµ­ì¸ ê²Œì‹œë¬¼ ëœë¤ ëŒ“ê¸€ - API ID: 292
    },
    youtube: {
                    followers_foreign: 150,    // ìœ íŠœë¸Œ ì™¸êµ­ì¸ ì±„ë„ êµ¬ë…ì
                    followers_korean: 872,     // ìœ íŠœë¸Œ ë¦¬ì–¼ í•œêµ­ì¸ ì±„ë„ êµ¬ë…ì
                    likes_foreign: 638,        // ìœ íŠœë¸Œ ì™¸êµ­ì¸ ë™ì˜ìƒ ì¢‹ì•„ìš”
                    comments_korean: 869,      // ìœ íŠœë¸Œ í•œêµ­ì¸ ë™ì˜ìƒ AI ëœë¤ ëŒ“ê¸€
                    views_foreign: 833,        // ìœ íŠœë¸Œ ì™¸êµ­ì¸ ë™ì˜ìƒ ì¡°íšŒìˆ˜
                    views_korean: 731          // ìœ íŠœë¸Œ ë¦¬ì–¼ í•œêµ­ì¸ ë™ì˜ìƒ ì¡°íšŒìˆ˜
                  }
  }
  
  // ê¸°ë³¸ ìˆ˜ëŸ‰ ì˜µì…˜
  const baseQuantityOptions = [100, 200, 300, 400, 500, 600, 700, 800, 900, 1000, 1500, 2000, 2500, 3000, 4000, 5000, 6000, 7000, 8000, 9000, 10000]
  
  // ì„œë¹„ìŠ¤ë³„ ìˆ˜ëŸ‰ ì˜µì…˜ ë°˜í™˜ í•¨ìˆ˜
  const getQuantityOptions = (platform, service) => {
    if (platform === 'instagram') {
      switch (service) {
        case 'followers_foreign': // ì™¸êµ­ì¸ íŒ”ë¡œì›Œ: 100-2000
          return [100, 200, 300, 400, 500, 600, 700, 800, 900, 1000, 1500, 2000]
        case 'followers_korean': // í•œêµ­ì¸ íŒ”ë¡œì›Œ: 50-20000
          return [50, 100, 200, 300, 400, 500, 600, 700, 800, 900, 1000, 1500, 2000, 2500, 3000, 4000, 5000, 6000, 7000, 8000, 9000, 10000, 15000, 20000]
        case 'likes_foreign': // ì™¸êµ­ì¸ ì¢‹ì•„ìš”: 100-50000
          return [100, 200, 300, 400, 500, 600, 700, 800, 900, 1000, 1500, 2000, 2500, 3000, 4000, 5000, 6000, 7000, 8000, 9000, 10000, 15000, 20000, 25000, 30000, 40000, 50000]
        case 'likes_korean': // í•œêµ­ì¸ ì¢‹ì•„ìš”: 50-10000
          return [50, 100, 200, 300, 400, 500, 600, 700, 800, 900, 1000, 1500, 2000, 2500, 3000, 4000, 5000, 6000, 7000, 8000, 9000, 10000]
        case 'comments_korean': // í•œêµ­ì¸ ëœë¤ ëŒ“ê¸€: 5-100
          return [5, 10, 15, 20, 25, 30, 35, 40, 45, 50, 60, 70, 80, 90, 100]
        case 'comments_foreign': // ì™¸êµ­ì¸ ëœë¤ ëŒ“ê¸€: 10-1000
          return [10, 20, 30, 40, 50, 60, 70, 80, 90, 100, 150, 200, 250, 300, 400, 500, 600, 700, 800, 900, 1000]
        case 'views_korean': // í•œêµ­ì¸ ì¡°íšŒìˆ˜: 100-100000000
          return [100, 200, 300, 400, 500, 600, 700, 800, 900, 1000, 1500, 2000, 2500, 3000, 4000, 5000, 6000, 7000, 8000, 9000, 10000, 15000, 20000, 25000, 30000, 40000, 50000, 60000, 70000, 80000, 90000, 100000, 150000, 200000, 250000, 300000, 400000, 500000, 600000, 700000, 800000, 900000, 1000000, 1500000, 2000000, 2500000, 3000000, 4000000, 5000000, 6000000, 7000000, 8000000, 9000000, 10000000, 15000000, 20000000, 25000000, 30000000, 40000000, 50000000, 60000000, 70000000, 80000000, 90000000, 100000000]
        case 'views_foreign': // ì™¸êµ­ì¸ ì¡°íšŒìˆ˜: 100-100000000
          return [100, 200, 300, 400, 500, 600, 700, 800, 900, 1000, 1500, 2000, 2500, 3000, 4000, 5000, 6000, 7000, 8000, 9000, 10000, 15000, 20000, 25000, 30000, 40000, 50000, 60000, 70000, 80000, 90000, 100000, 150000, 200000, 250000, 300000, 400000, 500000, 600000, 700000, 800000, 900000, 1000000, 1500000, 2000000, 2500000, 3000000, 4000000, 5000000, 6000000, 7000000, 8000000, 9000000, 10000000, 15000000, 20000000, 25000000, 30000000, 40000000, 50000000, 60000000, 70000000, 80000000, 90000000, 100000000]
        default:
          return baseQuantityOptions
      }
    } else if (platform === 'youtube') {
      switch (service) {
        case 'followers_foreign': // ì™¸êµ­ì¸ êµ¬ë…ì: 100-100
          return [100]
        case 'followers_korean': // ë¦¬ì–¼ í•œêµ­ì¸ êµ¬ë…ì: 50-1000
          return [50, 100, 200, 300, 400, 500, 600, 700, 800, 900, 1000]
        case 'likes_foreign': // ì™¸êµ­ì¸ ì¢‹ì•„ìš”: 100-5000
          return [100, 200, 300, 400, 500, 600, 700, 800, 900, 1000, 1500, 2000, 2500, 3000, 4000, 5000]
        case 'comments_korean': // AI ëœë¤ í•œêµ­ì¸ ëŒ“ê¸€: 10-10000
          return [10, 20, 30, 40, 50, 60, 70, 80, 90, 100, 150, 200, 250, 300, 400, 500, 600, 700, 800, 900, 1000, 1500, 2000, 2500, 3000, 4000, 5000, 6000, 7000, 8000, 9000, 10000]
        case 'views_foreign': // ì™¸êµ­ì¸ ì¡°íšŒìˆ˜: 100-10000000
          return [100, 200, 300, 400, 500, 600, 700, 800, 900, 1000, 1500, 2000, 2500, 3000, 4000, 5000, 6000, 7000, 8000, 9000, 10000, 15000, 20000, 25000, 30000, 40000, 50000, 60000, 70000, 80000, 90000, 100000, 150000, 200000, 250000, 300000, 400000, 500000, 600000, 700000, 800000, 900000, 1000000, 1500000, 2000000, 2500000, 3000000, 4000000, 5000000, 6000000, 7000000, 8000000, 9000000, 10000000, 15000000, 20000000, 25000000, 30000000, 40000000, 50000000, 60000000, 70000000, 80000000, 90000000, 10000000]
        case 'views_korean': // ë¦¬ì–¼ í•œêµ­ì¸ ì¡°íšŒìˆ˜: 4000-100000
          return [4000, 5000, 6000, 7000, 8000, 9000, 10000, 15000, 20000, 25000, 30000, 40000, 50000, 60000, 70000, 80000, 90000, 100000]
        default:
          return baseQuantityOptions
      }
    } else if (platform === 'tiktok') {
      switch (service) {
        case 'likes_foreign': // ì™¸êµ­ì¸ ì¢‹ì•„ìš”: 100-100000
          return [100, 200, 300, 400, 500, 600, 700, 800, 900, 1000, 1500, 2000, 2500, 3000, 4000, 5000, 6000, 7000, 8000, 9000, 10000, 15000, 20000, 25000, 30000, 40000, 50000, 60000, 70000, 80000, 90000, 100000]
        case 'followers_foreign': // ì™¸êµ­ì¸ ê³„ì • íŒ”ë¡œì›Œ: 100-1000000
          return [100, 200, 300, 400, 500, 600, 700, 800, 900, 1000, 1500, 2000, 2500, 3000, 4000, 5000, 6000, 7000, 8000, 9000, 10000, 15000, 20000, 25000, 30000, 40000, 50000, 60000, 70000, 80000, 90000, 100000, 150000, 200000, 250000, 300000, 400000, 500000, 600000, 700000, 800000, 900000, 1000000]
        case 'views_foreign': // ì™¸êµ­ì¸ ì¡°íšŒìˆ˜: 100-2000000000
          return [100, 200, 300, 400, 500, 600, 700, 800, 900, 1000, 1500, 2000, 2500, 3000, 4000, 5000, 6000, 7000, 8000, 9000, 10000, 15000, 20000, 25000, 30000, 40000, 50000, 60000, 70000, 80000, 90000, 100000, 150000, 200000, 250000, 300000, 400000, 500000, 600000, 700000, 800000, 900000, 1000000, 1500000, 2000000, 2500000, 3000000, 4000000, 5000000, 6000000, 7000000, 8000000, 9000000, 10000000, 15000000, 20000000, 25000000, 30000000, 40000000, 50000000, 60000000, 70000000, 80000000, 90000000, 100000000, 150000000, 200000000, 250000000, 300000000, 400000000, 500000000, 600000000, 700000000, 800000000, 900000000, 1000000000, 1500000000, 2000000000]
        case 'comments_foreign': // ì™¸êµ­ì¸ ëœë¤ ëŒ“ê¸€: 10-2000
          return [10, 20, 30, 40, 50, 60, 70, 80, 90, 100, 150, 200, 250, 300, 400, 500, 600, 700, 800, 900, 1000, 1500, 2000]
        default:
          return baseQuantityOptions
      }
    } else if (platform === 'twitter') {
      switch (service) {
        case 'followers_real': // ë¦¬ì–¼ íŒ”ë¡œì›Œ: 100-200000
          return [100, 200, 300, 400, 500, 600, 700, 800, 900, 1000, 1500, 2000, 2500, 3000, 4000, 5000, 6000, 7000, 8000, 9000, 10000, 15000, 20000, 25000, 30000, 40000, 50000, 60000, 70000, 80000, 90000, 100000, 150000, 200000]
        default:
          return baseQuantityOptions
      }
    } else if (platform === 'facebook') {
      switch (service) {
        case 'followers_korean': // í•œêµ­ì¸ ê°œì¸ê³„ì • íŒ”ë¡œìš°: 5-2500
          return [5, 10, 15, 20, 25, 30, 35, 40, 45, 50, 60, 70, 80, 90, 100, 150, 200, 250, 300, 400, 500, 600, 700, 800, 900, 1000, 1500, 2000, 2500]
        case 'followers_foreign': // ì™¸êµ­ì¸ í”„ë¡œí•„ íŒ”ë¡œìš°: 100-1000000
          return [100, 200, 300, 400, 500, 600, 700, 800, 900, 1000, 1500, 2000, 2500, 3000, 4000, 5000, 6000, 7000, 8000, 9000, 10000, 15000, 20000, 25000, 30000, 40000, 50000, 60000, 70000, 80000, 90000, 100000, 150000, 200000, 250000, 300000, 400000, 500000, 600000, 700000, 800000, 900000, 1000000]
        case 'likes_korean': // ë¦¬ì–¼ í•œêµ­ì¸ ê²Œì‹œë¬¼ ì¢‹ì•„ìš”: 20-10000
          return [20, 25, 30, 35, 40, 45, 50, 60, 70, 80, 90, 100, 150, 200, 250, 300, 400, 500, 600, 700, 800, 900, 1000, 1500, 2000, 2500, 3000, 4000, 5000, 6000, 7000, 8000, 9000, 10000]
        case 'likes_foreign': // ì™¸êµ­ì¸ ê²Œì‹œë¬¼ ì¢‹ì•„ìš”: 100-100000
          return [100, 200, 300, 400, 500, 600, 700, 800, 900, 1000, 1500, 2000, 2500, 3000, 4000, 5000, 6000, 7000, 8000, 9000, 10000, 15000, 20000, 25000, 30000, 40000, 50000, 60000, 70000, 80000, 90000, 100000]
        case 'comments_korean': // í•œêµ­ì¸ ê²Œì‹œë¬¼ ëœë¤ ëŒ“ê¸€: 10-10000
          return [10, 15, 20, 25, 30, 35, 40, 45, 50, 60, 70, 80, 90, 100, 150, 200, 250, 300, 400, 500, 600, 700, 800, 900, 1000, 1500, 2000, 2500, 3000, 4000, 5000, 6000, 7000, 8000, 9000, 10000]
        default:
          return baseQuantityOptions
      }
    }
    // ë‹¤ë¥¸ í”Œë«í¼ë“¤ì€ ê¸°ë³¸ ì˜µì…˜ ì‚¬ìš©
    return baseQuantityOptions
  }
  
  const quantityOptions = getQuantityOptions(platform, selectedService)
  
  const discountTiers = [
    { min: 500, max: 999, discount: 10 },
    { min: 1000, max: 4999, discount: 15 },
    { min: 5000, max: 10000, discount: 20 }
  ]
  
  const getDiscount = (qty) => {
    const tier = discountTiers.find(t => qty >= t.min && qty <= t.max)
    return tier ? tier.discount : 0
  }
  
  const handleQuantityChange = (newQuantity) => {
    setQuantity(newQuantity)
  }
  
      // ğŸš€ ì™„ë²½í•œ ì£¼ë¬¸ ìƒì„± ì‹œìŠ¤í…œ
  const handlePurchase = async () => {
    console.log('=== ğŸš€ ì£¼ë¬¸ ìƒì„± ì‹œì‘ ===')
    console.log('í˜„ì¬ ìƒíƒœ:', {
      selectedService,
      platform,
      link: link?.trim(),
      quantity,
      userPoints,
      totalPrice,
      finalPrice
    })
    
    try {
      // 1ë‹¨ê³„: ì„œë¹„ìŠ¤ ìƒíƒœ ì™„ë²½ ê²€ì¦ ë° ë³µêµ¬
      console.log('ğŸ” 1ë‹¨ê³„: ì„œë¹„ìŠ¤ ìƒíƒœ ê²€ì¦ ì‹œì‘')
      const validatedService = validateAndRecoverService()
      
      if (!validatedService) {
        console.error('âŒ ì„œë¹„ìŠ¤ ê²€ì¦ ì‹¤íŒ¨')
        alert('ì„œë¹„ìŠ¤ë¥¼ ì„ íƒí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•´ì£¼ì„¸ìš”.')
        return
      }
      
      console.log('âœ… ì„œë¹„ìŠ¤ ê²€ì¦ ì™„ë£Œ:', validatedService)
      
      // 2ë‹¨ê³„: ìµœì¢… ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
      console.log('ğŸ” 2ë‹¨ê³„: ìµœì¢… ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸')
      const services = getServicesForPlatform(platform)
      const validServiceIds = services.map(s => s.id)
      
      if (!validServiceIds.includes(validatedService)) {
        console.error('âŒ ìµœì¢… ì„œë¹„ìŠ¤ ê²€ì¦ ì‹¤íŒ¨:', validatedService)
        console.error('ìœ íš¨í•œ ì„œë¹„ìŠ¤ IDë“¤:', validServiceIds)
        alert('ì„ íƒëœ ì„œë¹„ìŠ¤ê°€ ìœ íš¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì„ íƒí•´ì£¼ì„¸ìš”.')
        return
      }
      
      console.log('âœ… ìµœì¢… ì„œë¹„ìŠ¤ ê²€ì¦ ì™„ë£Œ:', validatedService)
      
      // 3ë‹¨ê³„: ì„œë¹„ìŠ¤ ìƒíƒœ ë™ê¸°í™” í™•ì¸
      if (selectedService !== validatedService) {
        console.warn('âš ï¸ ì„œë¹„ìŠ¤ ìƒíƒœ ë¶ˆì¼ì¹˜ ê°ì§€, ë™ê¸°í™” ì¤‘...')
        setSelectedService(validatedService)
        
        // ìƒíƒœ ì—…ë°ì´íŠ¸ ëŒ€ê¸°
        await new Promise(resolve => setTimeout(resolve, 50))
      }
      
            console.log('ğŸ¯ ìµœì¢… ì‚¬ìš©í•  ì„œë¹„ìŠ¤ ID:', validatedService)
      
      // 4ë‹¨ê³„: í¬ì¸íŠ¸ ê²€ì¦
      console.log('ğŸ” 4ë‹¨ê³„: í¬ì¸íŠ¸ ê²€ì¦')
      if (usePoints && userPoints < totalPrice) {
        handleInsufficientPoints()
        return
      }

      // 5ë‹¨ê³„: ì…ë ¥ ê²€ì¦
      console.log('ğŸ” 5ë‹¨ê³„: ì…ë ¥ ê²€ì¦')
      if (!link.trim()) {
        alert('ë§í¬ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!')
        return
      }
      
      if (((platform === 'instagram' && (selectedService === 'comments_korean' || selectedService === 'comments_foreign')) || 
           (platform === 'youtube' && selectedService === 'comments_korean') ||
           (platform === 'facebook' && selectedService === 'comments_korean')) && !comments.trim()) {
        alert('ëŒ“ê¸€ ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!')
        return
      }

      // Instagram ì„œë¹„ìŠ¤ë³„ ìˆ˜ëŸ‰ ì œí•œ ê²€ì¦
      if (platform === 'instagram') {
        switch (selectedService) {
          case 'followers_foreign': // ì™¸êµ­ì¸ íŒ”ë¡œì›Œ: 100-2000
            if (quantity < 100 || quantity > 2000) {
              alert('ì™¸êµ­ì¸ íŒ”ë¡œì›Œ ì„œë¹„ìŠ¤ëŠ” 100ê°œì—ì„œ 2000ê°œê¹Œì§€ ì£¼ë¬¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.')
              return
            }
            break
          case 'followers_korean': // í•œêµ­ì¸ íŒ”ë¡œì›Œ: 50-20000
            if (quantity < 50 || quantity > 20000) {
              alert('í•œêµ­ì¸ íŒ”ë¡œì›Œ ì„œë¹„ìŠ¤ëŠ” 50ê°œì—ì„œ 20000ê°œê¹Œì§€ ì£¼ë¬¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.')
              return
            }
            break
          case 'likes_foreign': // ì™¸êµ­ì¸ ì¢‹ì•„ìš”: 100-50000
            if (quantity < 100 || quantity > 50000) {
              alert('ì™¸êµ­ì¸ ì¢‹ì•„ìš” ì„œë¹„ìŠ¤ëŠ” 100ê°œì—ì„œ 50000ê°œê¹Œì§€ ì£¼ë¬¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.')
              return
            }
            break
          case 'likes_korean': // í•œêµ­ì¸ ì¢‹ì•„ìš”: 50-10000
            if (quantity < 50 || quantity > 10000) {
              alert('í•œêµ­ì¸ ì¢‹ì•„ìš” ì„œë¹„ìŠ¤ëŠ” 50ê°œì—ì„œ 10000ê°œê¹Œì§€ ì£¼ë¬¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.')
              return
            }
            break
          case 'comments_korean': // í•œêµ­ì¸ ëœë¤ ëŒ“ê¸€: 5-100
            if (quantity < 5 || quantity > 100) {
              alert('í•œêµ­ì¸ ëœë¤ ëŒ“ê¸€ ì„œë¹„ìŠ¤ëŠ” 5ê°œì—ì„œ 100ê°œê¹Œì§€ ì£¼ë¬¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.')
              return
            }
            break
          case 'comments_foreign': // ì™¸êµ­ì¸ ëœë¤ ëŒ“ê¸€: 10-1000
            if (quantity < 10 || quantity > 1000) {
              alert('ì™¸êµ­ì¸ ëœë¤ ëŒ“ê¸€ ì„œë¹„ìŠ¤ëŠ” 10ê°œì—ì„œ 1000ê°œê¹Œì§€ ì£¼ë¬¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.')
              return
            }
            break
          case 'views_korean': // í•œêµ­ì¸ ì¡°íšŒìˆ˜: 100-100000000
            if (quantity < 100 || quantity > 100000000) {
              alert('í•œêµ­ì¸ ì¡°íšŒìˆ˜ ì„œë¹„ìŠ¤ëŠ” 100ê°œì—ì„œ 100,000,000ê°œê¹Œì§€ ì£¼ë¬¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.')
              return
            }
            break
          case 'views_foreign': // ì™¸êµ­ì¸ ì¡°íšŒìˆ˜: 100-100000000
            if (quantity < 100 || quantity > 100000000) {
              alert('ì™¸êµ­ì¸ ì¡°íšŒìˆ˜ ì„œë¹„ìŠ¤ëŠ” 100ê°œì—ì„œ 100,000,000ê°œê¹Œì§€ ì£¼ë¬¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.')
              return
            }
            break
        }
      }

      // YouTube ì„œë¹„ìŠ¤ë³„ ìˆ˜ëŸ‰ ì œí•œ ê²€ì¦
      if (platform === 'youtube') {
        switch (selectedService) {
          case 'followers_foreign': // ì™¸êµ­ì¸ êµ¬ë…ì: 100-100
            if (quantity !== 100) {
              alert('ì™¸êµ­ì¸ êµ¬ë…ì ì„œë¹„ìŠ¤ëŠ” 100ê°œë§Œ ì£¼ë¬¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.')
              return
            }
            break
          case 'followers_korean': // ë¦¬ì–¼ í•œêµ­ì¸ êµ¬ë…ì: 50-1000
            if (quantity < 50 || quantity > 1000) {
              alert('ë¦¬ì–¼ í•œêµ­ì¸ êµ¬ë…ì ì„œë¹„ìŠ¤ëŠ” 50ê°œì—ì„œ 1000ê°œê¹Œì§€ ì£¼ë¬¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.')
              return
            }
            break
          case 'likes_foreign': // ì™¸êµ­ì¸ ì¢‹ì•„ìš”: 100-5000
            if (quantity < 100 || quantity > 5000) {
              alert('ì™¸êµ­ì¸ ì¢‹ì•„ìš” ì„œë¹„ìŠ¤ëŠ” 100ê°œì—ì„œ 5000ê°œê¹Œì§€ ì£¼ë¬¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.')
              return
            }
            break
          case 'comments_korean': // AI ëœë¤ í•œêµ­ì¸ ëŒ“ê¸€: 10-10000
            if (quantity < 10 || quantity > 10000) {
              alert('AI ëœë¤ í•œêµ­ì¸ ëŒ“ê¸€ ì„œë¹„ìŠ¤ëŠ” 10ê°œì—ì„œ 10000ê°œê¹Œì§€ ì£¼ë¬¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.')
              return
            }
            break
          case 'views_foreign': // ì™¸êµ­ì¸ ì¡°íšŒìˆ˜: 100-10000000
            if (quantity < 100 || quantity > 10000000) {
              alert('ì™¸êµ­ì¸ ì¡°íšŒìˆ˜ ì„œë¹„ìŠ¤ëŠ” 100ê°œì—ì„œ 10,000,000ê°œê¹Œì§€ ì£¼ë¬¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.')
              return
            }
            break
          case 'views_korean': // ë¦¬ì–¼ í•œêµ­ì¸ ì¡°íšŒìˆ˜: 4000-100000
            if (quantity < 4000 || quantity > 100000) {
              alert('ë¦¬ì–¼ í•œêµ­ì¸ ì¡°íšŒìˆ˜ ì„œë¹„ìŠ¤ëŠ” 4000ê°œì—ì„œ 100,000ê°œê¹Œì§€ ì£¼ë¬¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.')
              return
            }
            break
        }
      }

      // TikTok ì„œë¹„ìŠ¤ë³„ ìˆ˜ëŸ‰ ì œí•œ ê²€ì¦
      if (platform === 'tiktok') {
        switch (selectedService) {
          case 'likes_foreign': // ì™¸êµ­ì¸ ì¢‹ì•„ìš”: 100-100000
            if (quantity < 100 || quantity > 100000) {
              alert('ì™¸êµ­ì¸ ì¢‹ì•„ìš” ì„œë¹„ìŠ¤ëŠ” 100ê°œì—ì„œ 100,000ê°œê¹Œì§€ ì£¼ë¬¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.')
              return
            }
            break
          case 'followers_foreign': // ì™¸êµ­ì¸ ê³„ì • íŒ”ë¡œì›Œ: 100-1000000
            if (quantity < 100 || quantity > 1000000) {
              alert('ì™¸êµ­ì¸ ê³„ì • íŒ”ë¡œì›Œ ì„œë¹„ìŠ¤ëŠ” 100ê°œì—ì„œ 1,000,000ê°œê¹Œì§€ ì£¼ë¬¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.')
              return
            }
            break
          case 'views_foreign': // ì™¸êµ­ì¸ ì¡°íšŒìˆ˜: 100-2000000000
            if (quantity < 100 || quantity > 2000000000) {
              alert('ì™¸êµ­ì¸ ì¡°íšŒìˆ˜ ì„œë¹„ìŠ¤ëŠ” 100ê°œì—ì„œ 2,000,000,000ê°œê¹Œì§€ ì£¼ë¬¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.')
              return
            }
            break
          case 'comments_foreign': // ì™¸êµ­ì¸ ëœë¤ ëŒ“ê¸€: 10-2000
            if (quantity < 10 || quantity > 2000) {
              alert('ì™¸êµ­ì¸ ëœë¤ ëŒ“ê¸€ ì„œë¹„ìŠ¤ëŠ” 10ê°œì—ì„œ 2,000ê°œê¹Œì§€ ì£¼ë¬¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.')
              return
            }
            break
        }
      }

      // Facebook ì„œë¹„ìŠ¤ë³„ ìˆ˜ëŸ‰ ì œí•œ ê²€ì¦
      if (platform === 'facebook') {
        switch (selectedService) {
          case 'followers_korean': // ê°œì¸ê³„ì • íŒ”ë¡œìš°: 5-2500
            if (quantity < 5 || quantity > 2500) {
              alert('ê°œì¸ê³„ì • íŒ”ë¡œìš° ì„œë¹„ìŠ¤ëŠ” 5ê°œì—ì„œ 2,500ê°œê¹Œì§€ ì£¼ë¬¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.')
              return
            }
            break
          case 'followers_foreign': // í”„ë¡œí•„ íŒ”ë¡œìš°: 100-1000000
            if (quantity < 100 || quantity > 1000000) {
              alert('í”„ë¡œí•„ íŒ”ë¡œìš° ì„œë¹„ìŠ¤ëŠ” 100ê°œì—ì„œ 1,000,000ê°œê¹Œì§€ ì£¼ë¬¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.')
              return
            }
            break
          case 'likes_korean': // ê²Œì‹œë¬¼ ì¢‹ì•„ìš” (ë¦¬ì–¼ í•œêµ­ì¸): 100-1000000
            if (quantity < 100 || quantity > 1000000) {
              alert('ê²Œì‹œë¬¼ ì¢‹ì•„ìš” (ë¦¬ì–¼ í•œêµ­ì¸) ì„œë¹„ìŠ¤ëŠ” 100ê°œì—ì„œ 1,000,000ê°œê¹Œì§€ ì£¼ë¬¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.')
              return
            }
            break
          case 'likes_foreign': // ê²Œì‹œë¬¼ ì¢‹ì•„ìš” (ì™¸êµ­ì¸): 100-1000000
            if (quantity < 100 || quantity > 1000000) {
              alert('ê²Œì‹œë¬¼ ì¢‹ì•„ìš” (ì™¸êµ­ì¸) ì„œë¹„ìŠ¤ëŠ” 100ê°œì—ì„œ 1,000,000ê°œê¹Œì§€ ì£¼ë¬¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.')
              return
            }
            break
          case 'comments_korean': // ê²Œì‹œë¬¼ ëœë¤ ëŒ“ê¸€ (í•œêµ­ì¸): 10-1000000
            if (quantity < 10 || quantity > 1000000) {
              alert('ê²Œì‹œë¬¼ ëœë¤ ëŒ“ê¸€ (í•œêµ­ì¸) ì„œë¹„ìŠ¤ëŠ” 10ê°œì—ì„œ 1,000,000ê°œê¹Œì§€ ì£¼ë¬¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.')
              return
            }
            break
        }
      }

      // Twitter ì„œë¹„ìŠ¤ë³„ ìˆ˜ëŸ‰ ì œí•œ ê²€ì¦
      if (platform === 'twitter') {
        switch (selectedService) {
          case 'followers_real': // ë¦¬ì–¼ íŒ”ë¡œì›Œ: 100-200000
            if (quantity < 100 || quantity > 200000) {
              alert('ë¦¬ì–¼ íŒ”ë¡œì›Œ ì„œë¹„ìŠ¤ëŠ” 100ê°œì—ì„œ 200,000ê°œê¹Œì§€ ì£¼ë¬¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.')
              return
            }
            break
        }
      }

      // KakaoTalk ì„œë¹„ìŠ¤ë³„ ìˆ˜ëŸ‰ ì œí•œ ê²€ì¦
      if (platform === 'kakaotalk') {
        switch (selectedService) {
          case 'friends_real': // ë¦¬ì–¼ ì±„ë„ ì¹œêµ¬ ì¶”ê°€: 100-10000
            if (quantity < 100 || quantity > 10000) {
              alert('ë¦¬ì–¼ ì±„ë„ ì¹œêµ¬ ì¶”ê°€ ì„œë¹„ìŠ¤ëŠ” 100ê°œì—ì„œ 10,000ê°œê¹Œì§€ ì£¼ë¬¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.')
              return
            }
            break
        }
      }


      
      setIsLoading(true)
      
      try {
        // 1ë‹¨ê³„: ì„œë¹„ìŠ¤ ìƒíƒœ ì™„ë²½ ê²€ì¦ ë° ë³µêµ¬
        console.log('ğŸ” 1ë‹¨ê³„: ì„œë¹„ìŠ¤ ìƒíƒœ ê²€ì¦ ì‹œì‘')
        const validatedService = validateAndRecoverService()
        
        if (!validatedService) {
          console.error('âŒ ì„œë¹„ìŠ¤ ê²€ì¦ ì‹¤íŒ¨')
          alert('ì„œë¹„ìŠ¤ë¥¼ ì„ íƒí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•´ì£¼ì„¸ìš”.')
          return
        }
        
        console.log('âœ… ì„œë¹„ìŠ¤ ê²€ì¦ ì™„ë£Œ:', validatedService)
        
        // 2ë‹¨ê³„: ìµœì¢… ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
        console.log('ğŸ” 2ë‹¨ê³„: ìµœì¢… ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸')
        const services = getServicesForPlatform(platform)
        const validServiceIds = services.map(s => s.id)
        
        if (!validServiceIds.includes(validatedService)) {
          console.error('âŒ ìµœì¢… ì„œë¹„ìŠ¤ ê²€ì¦ ì‹¤íŒ¨:', validatedService)
          console.error('ìœ íš¨í•œ ì„œë¹„ìŠ¤ IDë“¤:', validServiceIds)
          alert('ì„ íƒëœ ì„œë¹„ìŠ¤ê°€ ìœ íš¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì„ íƒí•´ì£¼ì„¸ìš”.')
          return
        }
        
        console.log('âœ… ìµœì¢… ì„œë¹„ìŠ¤ ê²€ì¦ ì™„ë£Œ:', validatedService)
        
        // 3ë‹¨ê³„: ì„œë¹„ìŠ¤ ìƒíƒœ ë™ê¸°í™” í™•ì¸
        if (selectedService !== validatedService) {
          console.warn('âš ï¸ ì„œë¹„ìŠ¤ ìƒíƒœ ë¶ˆì¼ì¹˜ ê°ì§€, ë™ê¸°í™” ì¤‘...')
          setSelectedService(validatedService)
          
          // ìƒíƒœ ì—…ë°ì´íŠ¸ ëŒ€ê¸°
          await new Promise(resolve => setTimeout(resolve, 50))
        }
        
        console.log('ğŸ¯ ìµœì¢… ì‚¬ìš©í•  ì„œë¹„ìŠ¤ ID:', validatedService)
        
        console.log('=== handlePurchase ë””ë²„ê¹… ===')
        console.log('Platform:', platform)
        console.log('Selected Service:', selectedService)
        console.log('Validated Service:', validatedService)
        console.log('Services Array:', services)
        
        // 4ë‹¨ê³„: í¬ì¸íŠ¸ ê²€ì¦
        console.log('ğŸ” 4ë‹¨ê³„: í¬ì¸íŠ¸ ê²€ì¦')
        if (usePoints && userPoints < totalPrice) {
          handleInsufficientPoints()
          return
        }

        // 5ë‹¨ê³„: ì…ë ¥ ê²€ì¦
        console.log('ğŸ” 5ë‹¨ê³„: ì…ë ¥ ê²€ì¦')
        if (!link.trim()) {
          alert('ë§í¬ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!')
          return
        }
        
        // ì•ˆì „í•œ ê°’ ì¤€ë¹„
        const safeLink = link && typeof link === 'string' ? link.trim() : ''
        const safeQuantity = quantity && !isNaN(Number(quantity)) ? Number(quantity) : 0
        const safeComments = comments && typeof comments === 'string' ? comments.trim() : ''
        const safeExplanation = explanation && typeof explanation === 'string' ? explanation.trim() : ''
        
        // 6ë‹¨ê³„: ì£¼ë¬¸ ë°ì´í„° ìƒì„±
        console.log('ğŸ” 6ë‹¨ê³„: ì£¼ë¬¸ ë°ì´í„° ìƒì„±')
        const orderData = {
          serviceId: validatedService, // ê²€ì¦ëœ ì„œë¹„ìŠ¤ ID ì‚¬ìš©
          link: safeLink,
          quantity: safeQuantity,
          runs: 1, // ê¸°ë³¸ ì‹¤í–‰ íšŸìˆ˜
          interval: 0, // ì¦‰ì‹œ ì‹¤í–‰
          comments: safeComments, // ì»¤ìŠ¤í…€ ëŒ“ê¸€ (ëŒ“ê¸€ ì„œë¹„ìŠ¤ì¸ ê²½ìš°)
          explanation: safeExplanation, // ì„¤ëª… (ì¶”ê°€ ìš”ì²­ì‚¬í•­)
          username: '', // ì‚¬ìš©ìëª… (êµ¬ë… ì„œë¹„ìŠ¤ì¸ ê²½ìš°)
          min: 0,
          max: 0,
          posts: 0,
          delay: 0,
          expiry: '',
          oldPosts: 0
        }
        
        console.log('âœ… ì£¼ë¬¸ ë°ì´í„° ìƒì„± ì™„ë£Œ:', orderData)

        // 7ë‹¨ê³„: ì£¼ë¬¸ ë°ì´í„° ë³€í™˜
        console.log('ğŸ” 7ë‹¨ê³„: ì£¼ë¬¸ ë°ì´í„° ë³€í™˜')
        console.log('Order Data being sent:', orderData)

        const transformedData = transformOrderData(orderData)
        console.log('Transformed Data:', transformedData)
        
        // 8ë‹¨ê³„: SMM Panel API í˜¸ì¶œ
        console.log('ğŸ” 8ë‹¨ê³„: SMM Panel API í˜¸ì¶œ')
        console.log('=== ğŸš€ SMM Panel API í˜¸ì¶œ ì¤€ë¹„ ===')
        
        // API í˜¸ì¶œ ì „ ìµœì¢… ê²€ì¦
        if (!transformedData.service || transformedData.service === 'undefined') {
          console.error('âŒ API í˜¸ì¶œ ì „ ì„œë¹„ìŠ¤ ê²€ì¦ ì‹¤íŒ¨:', transformedData)
          alert('ì„œë¹„ìŠ¤ ì •ë³´ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.')
          return
        }
        
        // ì‚¬ìš©ì ID ì¤€ë¹„
        const userId = currentUser?.uid || currentUser?.email || 'anonymous'
        console.log('ì‚¬ìš©ì ID:', userId)
        
        // ì£¼ë¬¸ ë°ì´í„°ì— í¬ì¸íŠ¸ ì‚¬ìš© ì •ë³´ ì¶”ê°€
        transformedData.price = finalPrice // ìµœì¢… ê²°ì œ ê¸ˆì•¡
        transformedData.pointsToUse = pointsToUse // ì‚¬ìš©í•  í¬ì¸íŠ¸
        
        console.log('ğŸ¯ ìµœì¢… SMM Panel API í˜¸ì¶œ ë°ì´í„°:', transformedData)
        console.log('API ì—”ë“œí¬ì¸íŠ¸: smmpanelApi.createOrder')
        
        // SMM Panel API í˜¸ì¶œ ì‹œë„
        let result
        try {
          console.log('ğŸ“¡ SMM Panel API í˜¸ì¶œ ì‹œì‘...')
          result = await smmpanelApi.createOrder(transformedData, userId)
          console.log('ğŸ“¡ SMM Panel API í˜¸ì¶œ ì™„ë£Œ')
        } catch (apiError) {
          console.error('âŒ SMM Panel API í˜¸ì¶œ ì‹¤íŒ¨:', apiError)
          
          // API ì—ëŸ¬ ìƒì„¸ ë¶„ì„
          if (apiError.response) {
            console.error('SMM Panel API ì‘ë‹µ ì—ëŸ¬:', {
              status: apiError.response.status,
              data: apiError.response.data,
              headers: apiError.response.headers
            })
            
            // HTTP ìƒíƒœ ì½”ë“œë³„ ì—ëŸ¬ ë©”ì‹œì§€
            switch (apiError.response.status) {
              case 400:
                alert('ì˜ëª»ëœ ìš”ì²­ì…ë‹ˆë‹¤. ì…ë ¥ ì •ë³´ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.')
                break
              case 401:
                alert('ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤. ë¡œê·¸ì¸ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.')
                break
              case 403:
                alert('ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤. ê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•´ì£¼ì„¸ìš”.')
                break
              case 404:
                alert('ìš”ì²­í•œ ì„œë¹„ìŠ¤ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.')
                break
              case 429:
                alert('ìš”ì²­ì´ ë„ˆë¬´ ë§ìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.')
                break
              case 500:
                alert('ì„œë²„ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.')
                break
              default:
                alert(`SMM Panel API ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. (${apiError.response.status})`)
            }
          } else if (apiError.request) {
            console.error('SMM Panel API ìš”ì²­ ì—ëŸ¬:', apiError.request)
            alert('SMM Panel ì„œë²„ì— ì—°ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì„ í™•ì¸í•´ì£¼ì„¸ìš”.')
          } else {
            console.error('SMM Panel API ì„¤ì • ì—ëŸ¬:', apiError.message)
            alert('SMM Panel ìš”ì²­ ì„¤ì • ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.')
          }
          
          throw apiError
        }

        console.log('âœ… ì£¼ë¬¸ ìƒì„± ì„±ê³µ:', result)
        
        if (result.error) {
          alert(`ì£¼ë¬¸ ìƒì„± ì‹¤íŒ¨: ${result.error}`)
        } else {
          // ì£¼ë¬¸ ìƒì„± ì™„ë£Œ, í¬ì¸íŠ¸ëŠ” ì•„ì§ ì°¨ê°ë˜ì§€ ì•ŠìŒ
          console.log('ğŸ‰ ì£¼ë¬¸ ìƒì„± ì™„ë£Œ, ê²°ì œ ëŒ€ê¸° ì¤‘:', result)

          // ì£¼ë¬¸ ì„±ê³µ ì‹œ ê²°ì œ í˜ì´ì§€ë¡œ ì´ë™
          const paymentData = {
            orderId: result.order,
            platform: platform,
            serviceName: services.find(s => s.id === validatedService)?.name || validatedService,
            quantity: quantity,
            unitPrice: platformInfo.unitPrice,
            totalPrice: finalPrice, // í¬ì¸íŠ¸ ì°¨ê° í›„ ìµœì¢… ê¸ˆì•¡
            pointsUsed: pointsToUse, // ì‚¬ìš©ëœ í¬ì¸íŠ¸
            originalPrice: totalPrice, // ì›ë˜ ê°€ê²©
            link: link.trim(),
            comments: comments.trim(),
            explanation: explanation.trim(),
            discount: getDiscount(quantity)
          }
          
          console.log('ğŸ’³ ê²°ì œ ë°ì´í„°:', paymentData)
          console.log('ğŸš€ ê²°ì œ í˜ì´ì§€ë¡œ ì´ë™ ì¤‘...')
          
          try {
            // ê²°ì œ í˜ì´ì§€ë¡œ ì´ë™í•˜ë©´ì„œ ì£¼ë¬¸ ë°ì´í„° ì „ë‹¬
            navigate(`/payment/${platform}`, { state: { orderData: paymentData } })
          } catch (navigationError) {
            console.error('âŒ ë„¤ë¹„ê²Œì´ì…˜ ì—ëŸ¬:', navigationError)
            alert('ê²°ì œ í˜ì´ì§€ë¡œ ì´ë™ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.')
          }
        }
      } catch (error) {
        console.error('âŒ ì£¼ë¬¸ ìƒì„± ì¤‘ ì—ëŸ¬ ë°œìƒ:', error)
        const errorInfo = handleApiError(error)
        console.error('Order creation failed:', errorInfo)
        alert(`ì£¼ë¬¸ ìƒì„± ì‹¤íŒ¨: ${errorInfo.message}`)
      } finally {
        setIsLoading(false)
      }
    } catch (error) {
      console.error('âŒ ì „ì²´ ì£¼ë¬¸ í”„ë¡œì„¸ìŠ¤ ì—ëŸ¬:', error)
      alert('ì£¼ë¬¸ ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.')
    } finally {
      setIsLoading(false)
    }
  }

  return (
    <div className="order-page">
      <div className="order-header">
        <h1>ì£¼ë¬¸ ìƒì„±</h1>
        <p>ì›í•˜ëŠ” ì„œë¹„ìŠ¤ë¥¼ ì„ íƒí•˜ê³  ì£¼ë¬¸ì„ ìƒì„±í•˜ì„¸ìš”</p>
      </div>

      <div className="order-content">
        {/* í”Œë«í¼ ì„ íƒ */}
        <div className="platform-selection">
          <h2>í”Œë«í¼ ì„ íƒ</h2>
          <div className="platform-grid">
            {Object.entries(platforms).map(([key, platform]) => (
              <div
                key={key}
                className={`platform-card ${selectedPlatform === key ? 'selected' : ''}`}
                onClick={() => handlePlatformSelect(key)}
              >
                <div className="platform-icon">
                  <img src={platform.icon} alt={platform.name} />
                </div>
                <div className="platform-info">
                  <h3>{platform.name}</h3>
                  <p>{platform.description}</p>
                </div>
              </div>
            ))}
          </div>
        </div>

        {/* ì„œë¹„ìŠ¤ ì„ íƒ */}
        {selectedPlatform && (
          <div className="service-selection">
            <h2>ì„œë¹„ìŠ¤ ì„ íƒ</h2>
            <div className="service-grid">
              {services.map((service) => (
                <div
                  key={service.id}
                  className={`service-card ${selectedService === service.id ? 'selected' : ''}`}
                  onClick={() => handleServiceSelect(service.id)}
                >
                  <div className="service-info">
                    <h3>{service.name}</h3>
                    <p>{service.description}</p>
                    <div className="service-price">
                      <span className="price">â‚©{service.price.toLocaleString()}</span>
                      <span className="per-1000">/1,000</span>
                    </div>
                  </div>
                </div>
              ))}
            </div>
          </div>
        )}

        {/* ì£¼ë¬¸ í¼ */}
        {selectedService && (
          <div className="order-form">
            <h2>ì£¼ë¬¸ ì •ë³´ ì…ë ¥</h2>
            <form onSubmit={handleSubmit}>
              <div className="form-group">
                <label htmlFor="link">ë§í¬</label>
                <input
                  type="url"
                  id="link"
                  value={link}
                  onChange={(e) => setLink(e.target.value)}
                  placeholder="https://..."
                  required
                />
              </div>

              <div className="form-group">
                <label htmlFor="quantity">ìˆ˜ëŸ‰</label>
                <input
                  type="number"
                  id="quantity"
                  value={quantity}
                  onChange={(e) => setQuantity(parseInt(e.target.value) || 0)}
                  min="1"
                  required
                />
                <div className="quantity-info">
                  <span>ìµœì†Œ: {platformInfo?.minQuantity || 1}</span>
                  <span>ìµœëŒ€: {platformInfo?.maxQuantity || 100000}</span>
                </div>
              </div>

              <div className="form-group">
                <label htmlFor="comments">ì½”ë©˜íŠ¸ (ì„ íƒì‚¬í•­)</label>
                <textarea
                  id="comments"
                  value={comments}
                  onChange={(e) => setComments(e.target.value)}
                  placeholder="ì›í•˜ëŠ” ì½”ë©˜íŠ¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”..."
                  rows="3"
                />
              </div>

              <div className="form-group">
                <label htmlFor="explanation">ì„¤ëª… (ì„ íƒì‚¬í•­)</label>
                <textarea
                  id="explanation"
                  value={explanation}
                  onChange={(e) => setExplanation(e.target.value)}
                  placeholder="ì¶”ê°€ ì„¤ëª…ì´ í•„ìš”í•˜ë‹¤ë©´ ì…ë ¥í•˜ì„¸ìš”..."
                  rows="3"
                />
              </div>

              {/* í¬ì¸íŠ¸ ì‚¬ìš© */}
              <div className="points-section">
                <h3>í¬ì¸íŠ¸ ì‚¬ìš©</h3>
                <div className="points-info">
                  <span>ë³´ìœ  í¬ì¸íŠ¸: {userPoints?.toLocaleString() || 0}ì </span>
                  <span>ì£¼ë¬¸ ê¸ˆì•¡: â‚©{totalPrice.toLocaleString()}</span>
                </div>
                <div className="points-input">
                  <input
                    type="number"
                    value={pointsToUse}
                    onChange={(e) => setPointsToUse(parseInt(e.target.value) || 0)}
                    min="0"
                    max={Math.min(userPoints || 0, totalPrice)}
                    placeholder="ì‚¬ìš©í•  í¬ì¸íŠ¸"
                  />
                  <button
                    type="button"
                    onClick={() => setPointsToUse(Math.min(userPoints || 0, totalPrice))}
                    className="btn-max-points"
                  >
                    ìµœëŒ€ ì‚¬ìš©
                  </button>
                </div>
                <div className="final-price">
                  <span>ìµœì¢… ê²°ì œ ê¸ˆì•¡:</span>
                  <span className="price">â‚©{finalPrice.toLocaleString()}</span>
                </div>
              </div>

              <button
                type="submit"
                className="btn-submit"
                disabled={isLoading}
              >
                {isLoading ? 'ì£¼ë¬¸ ìƒì„± ì¤‘...' : 'ì£¼ë¬¸ ìƒì„±'}
              </button>
            </form>
          </div>
        )}
      </div>
    </div>
  )
}

export default OrderPage